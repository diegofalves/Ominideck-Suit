<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, user-scalable=yes">
  <meta name="version" content="2022.3.0">
  <link rel="StyleSheet" href="../../template/styles/topic.min.css" type="text/css">
  <link rel="StyleSheet" data-skin="true" type="text/css" href="../../template/bluelagoon_-_redwood/layout.css">
  <link rel="StyleSheet" data-skin="true" href="../../template/bluelagoon_-_redwood/userstyles.css" type="text/css">
  
  <script data-relpath="../.." src="../../template/scripts/csh-redirect.js" type="text/javascript"></script>
<link rel="StyleSheet" href="../../assets/css/redwood.css" type="text/css">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="topic-priority" content="0">
  <meta name="topic-time-estimate" content="0">
  <meta name="topic-comment" content>
  <meta name="topic-id" content="Bulk Rating Actions">
  <meta name="topic-check-list" content="First Draft">
  <meta name="topic-status" content="Complete">
  <meta name="template" content="../../assets/masterpages/operational planning.htt">
  <meta http-equiv="Content-Language" content="en-US">
  <meta name="generator" content="Adobe RoboHelp 2022">
  <title>Bulk Plan Tuning Multi-Stop Shipment Logic</title>
  <link rel="StyleSheet" href="../../assets/css/redwood.css" type="text/css">
  <script type="text/javascript" language="JavaScript1.2" src="../../assets/js/feedback.js"></script>
  <meta name="rh-index-keywords" content="bulk plan:multi-stop shipments">
<meta name="rh-version" content="2022.6.34"><meta name="description" content><meta name="brsnext" value="bulk_plan_manager/solution_quality_tuning/bulk_plan_multi-stop_shipment_saving_algorithms.htm"><meta name="brsprev" value="bulk_plan_manager/solution_quality_tuning/bulk_plan_tuning_continuous_moves_logic.htm">
  
  
  
  
  <style>
  </style>
  <link rel="stylesheet" type="text/css" href="../../assets/css/redwood.css">
<meta name="rh-version" content="2022.6.34">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.created" content="2025-07-16T17:04:07+00:00">
    <meta name="dcterms.title" content="Online Help for Transportation and Global Trade Management">
    <meta name="dcterms.category" content="cloud">
    <meta name="dcterms.isVersionOf" content="OTMOL">
    <meta name="dcterms.product" content="en/cloud/saas/transportation/25c">
    <meta name="dcterms.identifier" content="G28971-02">
    <meta name="dcterms.release" content="Release 25C">
  <script id="ssot-metadata" type="application/json">{"primary":{"category":{"short_name":"cloud","element_name":"Cloud","display_in_url":true},"suite":{"short_name":"saas","element_name":"Cloud Applications","display_in_url":true},"product_group":{"short_name":"supply-chain-management","element_name":"Supply Chain Management","display_in_url":false},"product":{"short_name":"transportation","element_name":"Transportation and Global Trade Management Cloud","display_in_url":true},"release":{"short_name":"25c","element_name":"Release 25C","display_in_url":true}}}</script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebPage","name":"Bulk Plan Tuning Multi-Stop Shipment Logic","description":"","datePublished":"2025-07-16 CST","dateModified":"2025-07-16 CST"}</script>
    <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>

<body class="rh-BODY-wrapper">
  <div class="cookie-widget-holder" id="cookie-status-widget-holder"></div>
  <div class="RH-LAYOUT-HEADER-skip-content-container" id="skip-to-content"></div>
  <header class="RH-LAYOUT-HEADER-container" role="banner">
    <div class="RH-LAYOUT-HEADER-logo-box  ">
      <div class="RH-LAYOUT-HEADER-logo" id="logo-holder"></div>
      <div class="RH-LAYOUT-HEADER-title" id="topic-title-holder"></div>
    </div>
    <div class="RH-LAYOUT-HEADERMENU-container" id="header-menu"></div>
    <div class="search-placeholder-class" id="search-with-help"></div>
  </header>
  <main role="main" class="RH-LAYOUT-BODY-container">
    <div class="RH-LAYOUT-SEARCHRESULTS" id="rh-searchresults"></div>
    <div class="RH-LAYOUT-LEFTPANEL-container" id="rh-leftpanel"></div>
    <div class="rh-layout-BODY-main" id="rh-layout-main">
      <div class="RH-LAYOUT-TOOLBAR-toolbar-box" id="rh-toolbar"></div>
      <div class="rh-layout-BODY-body">
        <div class="RH-LAYOUT-CENTERPANEL-container">
          <div class="rh-layout-selectdetails" id="rh-selectdetails"></div>
          <div class="RH-LAYOUT-CENTERPANEL-topic-box" id="rh-topic">
  <div>
    <p class="Header">Operational Planning</p>
  </div>
  <div><noscript>
    If you have any questions or comments about this topic or the online help,
    please <a href="mailto:otm-doc_us@oracle.com?subject=Documentation feedback:OTM Help">contact
      us.</a>
  </noscript>
  <h1><span data-field="title" data-format="default">Bulk Plan Tuning Multi-Stop Shipment Logic</span></h1>
  <div role="main">
    <p>Oracle Transportation Management provides several algorithms for multi-stop shipment creation. In order to tune multi-stop shipment creation for solution quality or performance, it is important to understand various multi-stop algorithms in Oracle Transportation Management and their internal workings at a high level.</p>
    <p>Oracle Transportation Management offers these major algorithms for building multi-stop shipments:</p>
    <ul>
      <li><a href="bulk_plan_multi-stop_shipment_clustering_merge_algorithm.htm">Clustering Merge Algorithm:</a>Â Forms clusters of input shipments and merges together the shipments in each cluster.</li>
      <li><a href="bulk_plan_multi-stop_shipment_conopt_algorithm.htm">Conopt Merge Algorithm:</a>Â Splits input shipments and repacks their contents to form tightly-packed multi-stop shipments.</li>
      <li><a href="bulk_plan_multi-stop_shipment_saving_algorithms.htm">Savings Algorithm:</a>Â Constructs shipments by merging two shipments at a time.
        <ul>
          <li><span class="Bold">Concurrent Savings</span>: Several shipments are formed simultaneously.</li>
          <li><span class="Bold">Look-Ahead Savings</span>: Same as Concurrent Savings, but with a modified policy for choosing the next best pair to combine.</li>
          <li><span class="Bold">Sequential Savings</span>: Constructs one shipment at a time until that shipment is completely formed.</li>
          <li><span class="Bold">Iterative Savings</span>: Runs multiple iterations of Concurrent Savings algorithm to provide higher-quality multistep solutions.</li>
        </ul>
      </li>
      <li><a href="multi-stop_shipment_column_generation_alg.htm">Column Generation Algorithm:</a>Â Using repetitive savings algorithm solves, this scheme generates several shipments, and the best set of shipments is obtained through a Mixed Integer programming Solver.</li>
      <li><a href="multi-stop_shipment_complete_enumeration_alg.htm">Complete Enumeration Algorithm:</a>Â Creates all combinations of input shipments and selects the best set of shipments using a Mixed Integer Programming Solver.</li>
    </ul>
    <p>The input to these algorithms is a set of direct shipments. The goal of the multi-stop logic is to consolidate these shipments into multi-stop shipments.</p>
    <h2><a name="ship_pairing" id="ship_pairing"></a>Shipment Pairing</h2>
    <p>For all of the multi-stop shipment algorithms, a shipment pairing logic is used to consolidate two shipments into one. The shipment pairing is used both for evaluating the savings, as well as, committing a particular pair and combining the shipments in the pair. The flow chart below highlights various steps in the pairing process: The shipments are paired to construct a paired shipment. Then stop sequences are generated using algorithms. Next the best cost sequence is selected after evaluating equipment, cost and drive feasibility to create a paired shipment.</p>
    <p><img alt="Shipment 1 and 2 are used to construct a paired shipment. That generates stop sequences which sequence the best costs. The stop sequences use Insertion, 2-Opt, 3-Opt, and Enumeration. The best cost sequence options include Equipment Feasibility, Cost Equipment Options, and Drive Feasibility. Then the paired shipment is created." class="Flow" src="../../assets/images/shipment_pairing.svg"></p>
    <h2><a name="constructing_paired_shipment" id="constructing_paired_shipment"></a>Constructing Paired Shipment</h2>
    <p>This step takes two shipments and constructs a paired shipment. Stops from the individual shipments are added to the paired shipment. Stops having the same location are merged together into one. There are times when two stops at the same location must be kept separate. For example, when you drop off and pickup at the same location, you may wish to have two separate stops, one for drop off and one for pickup.</p>
    <p>Prior to pairing the two shipments, there are several constraints that are checked to ensure that the two shipments can be paired together:</p>
    <ul>
      <li>Can the combined shipmentâs weight and volume fit the equipmentâs weight and volume capacities?</li>
      <li>Are the orders that are being placed into the equipment compatible with each other?</li>
    </ul>
    <p>In addition to the constraints, there are also several quick checks to eliminate certain less than optimal combinations in order to reduce the overall run time. The distance-based and time-based tuning parameters described below help in reducing the number of shipment pairs to evaluate.</p>
    <h2><a name="distance_based_parameters" id="distance_based_parameters"></a>Distance-Based Parameters</h2>
    <p>There are several multi-stop logic configuration parameters that can be used to limit the number of shipment pair computations that the algorithm performs. By eliminating the number of shipment pairs to evaluate, the run times can be drastically reduced. While mainly used for improving performance, these parameters also help solution quality by clustering the stops close to each other. For example, setting the MULTISTOP MAX RADIUS FOR DELIVERIES to 50 miles will cluster all the delivery stops to within a 50 mile radius of the farthest delivery point.</p>
    <ul>
      <li><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#multistop_max_distance">MULTISTOP MAX DISTANCE BETWEEN DELIVERIES</a> = 50</li>
      <li><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#multistop_max_distance">MULTISTOP MAX DISTANCE BETWEEN PICKUPS</a> = 50</li>
      <li><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#multistop_max_distance">MULTISTOP MAX RADIUS FOR DELIVERIES</a> = 50</li>
      <li><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#multistop_max_distance">MULTISTOP MAX RADIUS FOR PICKUPS</a> = 50</li>
      <li><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#multistop_max_distance">MULTISTOP MAX RADIUS PERCENTAGE FOR DELIVERIES</a> = 25</li>
      <li><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#multistop_max_distance">MULTISTOP MAX RADIUS PERCENTAGE FOR PICKUPS</a> = 25</li>
    </ul>
    <p>The <a href="../../planning/power_data/planning/logic_configuration_multistop.htm#multistop_max_distance">MULTISTOP MAX RADIUS PERCENTAGE FOR PICKUPS</a> and <a href="../../planning/power_data/planning/logic_configuration_multistop.htm#multistop_max_distance">MULTISTOP MAX RADIUS PERCENTAGE FOR DELIVERIES</a> parameters work well for situations when you have long stem miles and several pickups or deliveries clustered together. For example, consider a pickup at a distribution center and traveling over 500 miles and delivering to 3 or 4 locations. Setting the <a href="../../planning/power_data/planning/logic_configuration_multistop.htm#multistop_max_distance">MULTISTOP MAX RADIUS PERCENTAGE FOR DELIVERIES</a> to 10% in this case, ensures that all the deliveries are within 50 miles of each other.</p>
    <p class="Note"><span class="Bold">Note</span>: These parameters also exist on <a href="../data_setup/itineraries_and_bulk_plan.htm">itineraries</a>. However, since the multi-stop logic in certain points in the algorithm does not have access to an itinerary, the parameters defined on the multi-stop logic configuration are used. If the itinerary is available, the parameters from the itinerary are used instead. As a result, it is recommended that you set these parameters on the itinerary, as well as, on the multi-stop logic configuration.</p>
    <p>The parameter<a href="../../planning/power_data/planning/logic_configuration_multistop.htm#IGNORE_PROXIMITY_CHECKS_FOR_RETURN_TO_SOURCE"> IGNORE PROXIMITY CHECKS FOR RETURN TO SOURCE</a> allows the distance or time from the source location to the service area to be longer than any specified limit. When this parameter is set to true, while departing or returning to the shipment source location, OTM will not perform checks for maximum distance or time between pickups or deliveries. Â </p>
    <p>The parameter <a href="../../planning/power_data/planning/logic_configuration_multistop.htm#MULTISTOP_MAX_DISTANCE_BETWEEN_STOPS">MULTISTOP MAX DISTANCE BETWEEN STOPS</a> specifies the maximum distance limit between certain pair of consecutive stops in a multi-stop shipment. This parameter will work only if <a href="../../planning/power_data/planning/logic_configuration_multistop.htm#IGNORE_PROXIMITY_CHECKS_FOR_RETURN_TO_SOURCE">IGNORE PROXIMITY CHECKS FOR RETURN TO SOURCE</a> is set to true.</p>
    <p>The parameter <a href="../../planning/power_data/planning/logic_configuration_multistop.htm#max_distance_between_colocated_stops">MULTISTOP MAX DISTANCE BETWEEN CO-LOCATED STOPS</a> specifies the maximum distance within which two locations can be considered co-located. The default is 0, so the co-located multistop logic is not used in this case.</p>
    <h2><a name="time_based_parameters" id="time_based_parameters"></a>Time-Based Parameters</h2>
    <p>The time-based multi-stop logic configuration parameters also help reduce the computations by looking at the times on the shipments. In addition, the parameters will cluster the orders together that are close to each other in time. Â </p>
    <ul>
      <li><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#mx_max_times_for_del_and_pickup">MULTISTOP MAX TIME BETWEEN DELIVERIES</a> = 60 Minutes</li>
      <li><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#mx_max_times_for_del_and_pickup">MULTISTOP MAX TIME BETWEEN PICKUPS</a> = 60 Minutes</li>
    </ul>
    <h2><a name="generate_stop_sequences" id="generate_stop_sequences"></a>Generating Stop Sequences</h2>
    <p>Once the consolidated shipment is formed, the stops must be sequenced so that the total distance (or total cost) is minimized. Oracle Transportation Management provides several <a href="../../planning/power_data/planning/logic_configuration_multistop.htm#MultistopSeqAlgor">multi-stop sequencing algorithms</a> for you to choose from. The available sequencing algorithms are, from fastest to the highest quality results:</p>
    <ul>
      <li><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#MultistopSeqAlgor">2-Opt:</a>Â Iteratively generates new sequences by swapping two links.</li>
      <li><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#MultistopSeqAlgor">3-Opt:</a>Â Iteratively generates new sequences by swapping three links.</li>
      <li><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#MultistopSeqAlgor">Insertion:</a>Â Inserts the stops of one shipment into the other shipment without distorting the original sequence of either shipment.</li>
      <li><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#MultistopSeqAlgor">MIP:</a>Â Provides solutions to the sequencing problem by solving its MIP formulation.</li>
      <li><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#MultistopSeqAlgor">Time Window MIP:</a>Â Provides solutions to the sequencing MIP formulation by considering additional time constraints involving time windows, location calendars, etc.</li>
      <li><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#MultistopSeqAlgor">Enumeration:</a>Â Generates sequences by creating all permutations of the stops.</li>
    </ul>
    <h3>2-Opt and 3-Opt</h3>
    <p>The 2-opt and 3-opt algorithms run fast by considering only a subset of all the sequences. With these algorithms, it is possible that some good stop sequences are not generated.</p>
    <h3>Insertion</h3>
    <p>Insertion retains the original stop sequences of the first and second shipment.</p>
    <h3>Enumeration</h3>
    <p>If a shipment has a small number of stops, say 3 or 4 stops, then the enumeration algorithm works well and produces highest quality sequences. However, the enumeration algorithm does not scale well for shipments with a large number of stops (greater than 8 stops).</p>
    <h3>MIP</h3>
    <p>In the MIP Sequencer algorithm, OTM solves a mixed integer programming (MIP) formulation of the stop-sequencing problem (which is essentially a travelling salesman problem). This algorithm provides high quality sequences (as good as Complete Enumeration), and it also runs much faster than the Enumeration algorithm for a high number of stops.</p>
    <h4><span class="Bold">Time Window MIP</span></h4>
    <p>In the time window MIP algorithm, OTM takes time constraints into consideration (location calendar, order pick-up &amp; delivery date). This algorithm can provide the optimal solution, but also can be time consuming for high number of stops.</p>
    <p>Oracle Transportation Management provides the ability to choose different algorithms based on the number of shipments. The following multi-stop logic configuration parameters control the sequencing algorithms with default values. With the default settings, the 2-Opt algorithm will be used for shipments with 8 or more stops and the Enumeration algorithm for shipments with 4 or fewer stops. For anything in between, the 3-Opt algorithm will be used.</p>
    <ul>
      <li><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#ms_seq_high_stops_max">MULTISTOP SEQUENCING HIGH STOPS MINIMUM</a> = 8</li>
      <li><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#ms_seq_low_stops_max">MULTISTOP SEQUENCING LOW STOPS MAXIMUM</a> = 4</li>
      <li><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#MultistopSeqAlgor">MULTISTOP SEQUENCING ALGORITHM</a> = 3-Opt</li>
      <li><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#ms_seq_alg_for_high_stops">MULTISTOP SEQUENCING ALGORITHM FOR HIGH STOPS</a> = 2-Opt</li>
      <li><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#ms_seq_alg_for_low_stops">MULTISTOP SEQUENCING ALGORITHM FOR LOW STOPS</a> = Enumeration</li>
    </ul>
    <h3>Other Sequencing Related Parameters</h3>
    <p>There also several other sequencing related multi-stop logic configuration parameters that control how the shipment sequences are formed.</p>
    <p><span class="Bold"><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#quick_hos_check_in_sequencing">MULTISTOP QUICK HOS CHECK IN SEQUENCING</a></span>: This multi-stop logic configuration parameter provides the option of doing quick HOS check while generating multistop sequences. Generated sequences can be infeasible due to various time-constraining factors such as HOS Rules. OTM can improve performance and solution quality by throwing out time-infeasible sequences during the sequence generation step itself by running a quick time-feasibility check on HOS. This parameter is helpful if there is a maximum durationÂ for the shipment.</p>
    <p><span class="Bold"><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#sequence_cost_for_distance">MULTISTOP SEQUENCE COST FOR DISTANCE</a></span>: This multi-stop logic configuration parameter specifies the distance based cost to be considered during sequence generation.</p>
    <p><span class="Bold"><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#sequence_cost_for_time">MULTISTOP SEQUENCE COST FOR TIME</a></span>: This multi-stop logic configuration parameter specifies the time based cost to be considered during sequence generation.</p>
    <p>Following are a few examples using the two cost parameters above in multistop sequencing:</p>
    <ol>
      <li>Consider only distance: MULTISTOP SEQUENCE COST FOR DISTANCE = 1.0, MULTISTOP SEQUENCE COST FOR TIME = 0.0</li>
      <li>Consider only time: MULTISTOP SEQUENCE COST FOR DISTANCE = 0.0, MULTISTOP SEQUENCE COST FOR TIME = 1.0</li>
      <li>Consider distance and time costs (e.g. distance cost = 5 per unit distance and time cost = 100 per hour): MULTISTOP SEQUENCE COST FOR DISTANCE = 5.0, MULTISTOP SEQUENCE COST FOR TIME = 100.0</li>
    </ol>
    <p><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#ms_seq_allow_pickup_revisit"><span class="Bold">MULTISTOP SEQUENCING ALLOW PICKUP REVISIT</span></a> and <a href="../../planning/power_data/planning/logic_configuration_multistop.htm#ms_seq_allow_dropoff_revisit"><span class="Bold">MULTISTOP SEQUENCING ALLOW DROPOFF REVISIT</span></a>: These multi-stop logic configuration parameters allow a pickup or drop off location to be revisited more than once. This is very useful in situations where a particular distribution center (DC) has more than one truckload worth of orders and these orders are shipped by having the driver perform multiple trips on the same shipment.</p>
    <p><span class="Bold"><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#ms_start_or_end_at_depot_reward">MULTISTOP START OR END AT DEPOT REWARD</a>: </span>This multi-stop logic configuration parameter encourages shipments to start (or end) at a pickup (or drop off) location that is also a depot. In the figure below, the DC is marked as both pickup and delivery depot.</p>
    <p><img alt="Order A moves from point B to the DC/Depot and then to point A." class="Flow" src="../../assets/images/multistop_start_end_at_depot_reward.svg"></p>
    <p>When a shipment is formed by consolidating orders A and B, the logic does not take into account depot locations. So, the following two sequences are evaluated and the second one will be selected as it covers less distance.</p>
    <ul>
      <li>DC â A â B â DC</li>
      <li>B â DC â A</li>
    </ul>
    <p>Later, the logic adds the depot locations to the selected sequence and the second sequence now looks like this: Depot (DC) â B â DC â A â Depot (DC), which incurs the two extra empty moves. By encouraging the depot pickups and drop offs as the first and/or last locations, the first option is selectedÂ as it contains the first stop and last stop at the depot location.</p>
    <p><span class="Bold"><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#ms_use_return_miles_in_sequencing">MULTISTOP USE RETURN MILES IN SEQUENCING</a>:</span> This multi-stop logic configuration parameter considers the return miles to the first stop when finding the least distance sequence. This is useful if you know that the driver will return to the start location.</p>
    <h4>Multistop Use Unmerged Stops in Sequencing Logic</h4>
    <p>The multi-stop logic will always combine two stops if they are at the same location. In some instances, it may be useful to keep the stops separate, as in multi-segment shipments or when dealing with situations requiring revisits to the same stop. Even though the sequencing logic keeps the stops separate, the stops get merged together into one if two stops of the same type (pickup or delivery) and at the same location are next to each other in the final sequence. Keeping the stops separate is controlled via the multi-stop logic configuration parameter <a href="../../planning/power_data/planning/logic_configuration_multistop.htm#ms_use_unmerged_stops_in_seq_logic">MULTISTOP USE UNMERGED STOPS IN SEQUENCING LOGIC</a>.</p>
    <h3><a id="Last_in_First_out__LIFO_"></a>Last in First out (LIFO)</h3>
    <p>LIFO means that the last order loaded into the equipment must be the first one to be removed from the equipment. LIFO influences the stop sequences in that it eliminates the non-LIFO sequences being considered for evaluation. The multi-stop logic configuration parameter <a href="../../planning/power_data/planning/logic_configuration_multistop.htm#ms_lifo_pickup_dropoff">MULTISTOP USES LIFO PICKUP DROPFF</a> is used to control this behavior. With LIFO on, you can still get shipments with multiple pickup and multiple drop off stops.</p>
    <h2><a id="multi-segment_shipments"></a>Multistop Sequencing in Multi-Segment Shipments</h2>
    <p>A multi-segment shipment is a multistop shipment where the equipment is emptied at least once before the final delivery. Each segment in a multi-segment shipment is a continuous part in the journey of the shipment where the equipment is non-empty.</p>
    <p>The following figure shows a 2-segment shipment that picks up 3 orders at a distribution center (DC) and delivers these orders at different drop-off locations. Then the shipment equipment remains empty until it picks up the first of the 2 back-haul orders to be delivered back to the DC.</p>
    <p><img alt="The following figure shows a 2-segment shipment that picks up 3 orders at a distribution center (DC) and delivers these orders at different drop-off locations. Then the shipment equipment remains empty until it picks up the first of the 2 back-haul orders to be delivered back to the DC." class="Flow" src="../../assets/images/bulk_plan_tuning_multistop_sequencing_2_segment_shipment.svg"></p>
    <p>The multistop logic in OTM has the capability to create multi-segment shipments. To be able to create multi-segment shipments in OTM, you should set the value of the parameter <a href="../../planning/power_data/planning/logic_configuration_multistop.htm#ms_max_segments_per_shipment">MULTISTOP MAXIMUM SEGMENTS PER SHIPMENT</a> to a value greater than 1. The rate offering to be used should also have â<a href="../../planning/rate_manager/create_rate_offering.htm#max_num_of_shipment_segment">Max Num of Shipment Segments</a>â set to a value greater than 1. Â </p>
    <p>Additionally, it is usually very helpful to have the following multistop settings for multi-segment shipments.</p>
    <p><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#ms_use_unmerged_stops_in_seq_logic">MULTISTOP USE UNMERGED STOPS IN SEQUENCING LOGIC</a> = true</p>
    <p><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#ms_seq_allow_pickup_revisit">MULTISTOP SEQUENCING ALLOW PICKUP REVISIT</a> = true</p>
    <p><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#ms_seq_allow_dropoff_revisit">MULTISTOP SEQUENCING ALLOW DROPOFF REVISIT</a> = true</p>
    <p>The following figure shows an example of a multi-segment shipment that is shaped by equipment capacity and Hours of Service (HOS) constraints and is also LIFO (last-in-first-out) compatible. The shipment makes multiple round trips from a common distribution center (DC) location, making deliveries and pickups in a LIFO manner on each trip. Note that the length of every individual trip is limited by equipment capacity though HOS limit could allow the shipment to cover all stops in one single trip.</p>
    <p><img alt="an example of a multi-segment shipment that is shaped by equipment capacity and Hours of Service (HOS) constraints and is also LIFO (last-in-first-out) compatible. The shipment makes multiple round trips from a common distribution center (DC) location, making deliveries and pickups in a LIFO manner on each trip. Note that the length of every individual trip is limited by equipment capacity though HOS limit could allow the shipment to cover all stops in one single trip." class="Flow" src="../../assets/images/bulk_plan_tuning_multi_segment_shipment.svg"></p>
    <p>In shipment planning scenarios like this, it is typically very challenging to create multi-segment shipments involving a<span class="Bold"> </span>high number of stops and segments (for example more than 15 stops is high). That is because, in the multi-segment case, it is not easy to find feasible stop sequences satisfying various constraints such as equipment capacity, Hours of Service (HOS), LIFO stop sequencing etc. In this case, using the following options can be helpful.</p>
    <h3>Quick Checks in Sequencing</h3>
    <p>Multistop logic provides the options for performing various quick checks in sequencing so that sequences failing in these checks can be identified and rejected during sequence generation. Some of these important quick checks can be turned on through the following parameters.</p>
    <p><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#CHECK_EQUIPMENT_CAPACITY_IN_SEQUENCING">CHECK EQUIPMENT CAPACITY IN SEQUENCING</a></p>
    <p><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#CHECK_ITEM_COMPATIBILITY_IN_SEQUENCING">CHECK ITEM COMPATIBILITY IN SEQUENCING</a></p>
    <p><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#CHECK_LIFO_IN_SEQUENCING">CHECK LIFO IN SEQUENCING</a></p>
    <p><a href="../../planning/power_data/planning/logic_configuration_multistop.htm#quick_hos_check_in_sequencing">MULTISTOP QUICK HOS CHECK IN SEQUENCING</a></p>
    <p>Note that these additional checks aim to improve multistop shipment quality, but that improvement may come at the expense of additional run time in the multistop logic.</p>
    <h3>DC Based Multi-segment Sequencing</h3>
    <p>This DC based multi-segment sequencing logic is suitable for planning scenarios such as the above example. This logic can be turned on by setting the parameter <a href="../../planning/power_data/planning/logic_configuration_multistop.htm#INSERT_DC_STOPS_AFTER_SEQ_GENERATION">INSERT DC STOPS AFTER SEQUENCE GENERATION</a> to true. Â </p>
    <p>This logic only works for the case where there is only one source DC and one destination DC (both the source and destination DCs can also be the same location). The logic internally identifies a location pair as source DC and destination DC only if all the orders either start from the source DC or end with the destination DC.</p>
    <p>This logic tries to reduce workload for sequencing logic by identifying and eliminating the frequently occurring DC stops in the beginning and later inserting them appropriately into the generated stop sequences. Further, while inserting the DC stops back into a stop sequence, feasibility quick checks can be performed if specified.</p>
    <h2>Guiding Multi-Stop Consolidation</h2>
    <p>OTM users may want to encourage certain orders to end up on the same multi-stop shipments for business reasons rather than cost. Â As discussed elsewhere, Ship With Group functionality is used to encourage orders with the same Ship With Group value to consolidate onto the same multi-stop shipments. Multi-stop logic has a couple of other options for guiding order consolidation that happen before the regular multi-stop logic.</p>
    <h3>Combining Inbound and Outbound Shipments</h3>
    <p>The logic parameter MULTISTOP COMBINE INBOUND AND OUTBOUND SHIPMENTS enables logic that identifies orders going from a hub to a delivery location and corresponding orders coming back from the delivery location to the hub, and combines them onto the same shipment. This logic is encouraged to combine these orders onto the same shipment regardless of cost.</p>
    <p>Using this logic makes it easier to ensure that these outbound-inbound opportunities are identified, instead of relying simply upon cost savings calculations to discover them in regular multi-stop consolidation.</p>
    <h3>Identifying Co-Located Stops</h3>
    <p>The logic parameter MULTISTOP MAX DISTANCE BETWEEN CO-LOCATED STOPS enables logic that encourages orders with co-located stops to be combined onto the same shipment. Co-located stops are locations that are different OTM locations but are very close together, for example, different locations defined for the same large facility, or different locations along the same stretch of road.</p>
    <p>The parameter indicates which locations should be considered co-located, and the logic encourages orders picked up at or delivered to co-located stops to be combined onto the same multi-stop shipment. The logic also encourages the sequencing logic to sequence these co-located pickups and deliveries next to each other.</p>
    <h2><a id="topping_off"></a>Topping off Multi-stop Shipments</h2>
    <p>OTM can use <a href="../../planning/order_manager/or_edit.htm#topoff_order">top-off orders</a> to fill under-utilized shipments. Top-off orders are not consolidated with core orders (i.e. orders that are not top-off) while building direct shipments. However towards the end of multi-stop processing, in the multi-stop top-off pass, top-off shipments (i.e. shipments containing only top-off orders) are brought in for consolidation with the consolidated core shipments.</p>
    <p>The multi-stop logic configuration parameter <a href="../../planning/power_data/planning/logic_configuration_multistop.htm#use_conopt_merge_in_topoff_pass">USE CONOPT MERGE IN TOP-OFF PASS</a> provides an option to use the <a href="bulk_plan_multi-stop_shipment_conopt_algorithm.htm">Conopt Merge algorithm</a> for shipment consolidation in the top-off pass. Note that the main objective in the top-off pass is to move contents of the top-off shipments to the consolidated core shipments to utilize their equipment as much as possible. You have the option of using the Conopt Merge algorithm in this step (which does a better job than the Savings based algorithms) to achieve high equipment utilization. See current limitations of <a href="bulk_plan_multi-stop_shipment_conopt_algorithm.htm">Conopt Merge algorithm</a>.</p>
    <p>The multi-stop logic configuration parameter <a href="../../planning/power_data/planning/logic_configuration_multistop.htm#ignore_capacity_overrides_in_topoff_pass">IGNORE CAPACITY OVERRIDES IN TOP-OFF PASS</a> provides an option to ignore capacity overrides on the itinerary legs during shipment consolidation in the top-off pass. It makes sense to use this option only when the enforced capacity overrides are required, only until the top-off stop which should also be the last pick-up stop.</p>
    <h3>Top-off Scenario Example 1</h3>
    <p>Consider the planning scenario on a 2-leg itinerary as shown in the figure below. There are 4 core orders of 20,000 LB each, with 4 different source locations in a city region and a common destination at a port of discharge (POD). Only one type of equipment is available with a load capacity of 50,000 LB.</p>
    <p><img alt="There are 4 core orders of 20,000 LB each, with 4 different source locations in a city region and a common destination at a port of discharge (POD). Only one type of equipment is available with a load capacity of 50,000 LB. In this situation, multi-stop shipments will arrive at the port of loading (POL) location and continue on the ocean leg with under utilized equipment (10,000 LB capacity still available). To avoid this waste of equipment capacity, first leg shipments with unused capacity are brought to a top-off location (T in the above figure) where a top-off order of 20,000 is available for pick-up." class="Flow" src="../../assets/images/bulk_plan_tuning_topic_off_1a.svg"></p>
    <p>In this situation, multi-stop shipments will arrive at the port of loading (POL) location and continue on the ocean leg with under utilized equipment (10,000 LB capacity still available). To avoid this waste of equipment capacity, first leg shipments with unused capacity are brought to a top-off location (T in the above figure) where a top-off order of 20,000 is available for pick-up. In this case, as shown in the following figure, planning with the setting âUSE CONOPT MERGE IN TOP-OFF PASS = trueâ will result in the 2 fully-utilized shipments on the first leg.</p>
    <p><img alt="In this situation, multi-stop shipments will arrive at the port of loading (POL) location and continue on the ocean leg with under utilized equipment (10,000 LB capacity still available). To avoid this waste of equipment capacity, first leg shipments with unused capacity are brought to a top-off location (T in the above figure) where a top-off order of 20,000 is available for pick-up. In this case, as shown in the following figure, planning with the setting âUSE CONOPT MERGE IN TOP-OFF PASS = trueâ will result in the 2 fully-utilized shipments on the first leg." class="Flow" src="../../assets/images/bulk_plan_tuning_topic_off_1b.svg"></p>
    <h3>Top-off Scenario Example 2</h3>
    <p>The planning scenario in this example is shown in the following figure and is similar to Example 1. The main difference in this case is that a street legal load limit of 40,000 LB is imposed in the city region. This is defined as an equipment<a href="../../planning/power_data/geography/capacity_overrides.htm"> capacity override</a> on the first leg. However, the full equipment capacity of 50,000 LB is allowed between the top-off location T and POL as T is strategically located very close to POL.</p>
    <p><img alt="The origin location has two shipments, A and B, of 60,00 LB each. There is a top-off order for 30,000 LB. there is an Equipment Capacity: 50,000 LB and Street Load Limit: 40,000 LB. You can use full equipment capacity between Top-Off Location and POL. There is equipment reuse on the ship." class="Flow" src="../../assets/images/bulk_plan_tuning_topic_off_2a.svg"></p>
    <p>Suppose there are 2 &quot;coreâ orders of 60,000 LB each, with 2 different source locations in the city region and a common destination at a port of discharge (POD). In this situation, multi-stop shipments will arrive at the POL location and continue on the ocean leg with underutilized pieces ofÂ equipmentÂ (with at least 10,000 LB capacity still available). To avoid this waste of equipment capacity, a top-off order of 30,000 LB is available for pick-up at T. In this case, as shown in the following figure, planning with the setting âUSE CONOPT MERGE IN TOP-OFF PASS = trueâ and âIGNORE CAPACITY OVERRIDES IN TOP-OFF PASS = trueâ will result in 3 fully-utilized shipments on the first leg.</p>
    <p><img alt="The A shipment sends 20k LB to B and 40k LB to T. B sends two shipments of 40k LB. Three shipments of 50k LB go to the POL." class="Flow" src="../../assets/images/bulk_plan_tuning_topic_off_2b.svg"></p>
    <p class="Note"><span class="Bold">Note: </span>Typically, top-off orders would be used to fill under-utilized shipment with core orders, rather than to create top-off-only shipments. Â However, for a scenario in which top-off-only shipments are allowed, turning on the multi-stop logic configuration parameter <a href="../../planning/power_data/planning/logic_configuration_multistop.htm#TOPOFF_DISABLE_SAME_OD_PAIRING">TOP-OFF DISABLE SAME OD PAIRING</a> may allow better utilization on top-off-only shipments. This parameter should not be turned on if top-off-only shipments are not desired.</p>
  </div>
  <h2>Related Topics</h2>
  <p class="LinkList"><a href="multi-stop_shipment_complete_enumeration_alg.htm">Bulk Plan Multi-stop Shipment Complete Enumeration Algorithm</a></p>
  <p class="LinkList"><a href="multi-stop_shipment_column_generation_alg.htm">Bulk Plan Multi-stop Shipment Column Generation Algorithm</a></p>
  <p class="LinkList"><a href="bulk_plan_multi-stop_shipment_conopt_algorithm.htm">Bulk Plan Multi-stop Conopt Merge Algorithm</a></p>
  <p class="LinkList"><a href="multi-stop_shipment_common_scenarios.htm">Bulk Plan Multi-stop Shipment Common Scenarios</a></p>
  <p class="LinkList"></p>
  <p class="LinkList"><a href="tuning_time_window_effect_in_multistop_sequencing.htm">Tuning Time Window Effect in Multistop Sequencing</a></p>
  <p class="LinkList"><a href="../bulk_plan_performance_and_tuning.htm">Bulk Plan Performance and Tuning Overview</a></p>
  <p class="LinkList"><a href="bulk_plan_solution_quality_tuning.htm">Bulk Plan Solution Quality Tuning</a></p>
  <p class="LinkList"><a href="../../assets/docs/bulk_plan_performance_and_tuning_guide.pdf">Bulk Plan Performance and Tuning PDF</a></p>
  <script type="text/javascript" language="JavaScript1.2">
    //<![CDATA[
    if (typeof(InitEffects) != 'function') InitEffects = new Function();
    InitEffects('P1');
    //]]>
  </script>

</div>
  <div>
    <hr align="center">
    <p class="Footer"><img align="right" alt="Was this page helpful? Click to send feedback." height="49" src="../../assets/images/feedback.png" style="font-family: &quot;Oracle Sans&quot;, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: medium;" usemap="#imagemap" width="322"><map data-img-height="49" data-img-width="322" name="imagemap"><area alt="How can we improve this page?" coords="222, 1, 265, 43" href="javascript:sendDownFeedback()" shape="rect" title="How can we improve this page?"><area alt="What did you like about this page?" coords="273, 4, 317, 45" href="javascript:sendUpFeedback()" shape="rect" title="What did you like about this page?"><area alt="Comments" coords="41, 3, 218, 45" href="javascript:sendFeedback()" shape="rect" title="Comments"></map></p>
  </div>

</div>
          <div class="RH-LAYOUT-BRS-container" id="rh-brs"></div>
        </div>
        <div class="RH-LAYOUT-RIGHTPANEL-container" id="rh-rightpanel"></div>
      </div>
    </div>
  </main>
  <footer role="contentinfo" class="RH-LAYOUT-FOOTER-container" id="rh-footer">
  <table border="0" cellpadding="1" cellspacing="1" class="table-unstyled">
    <tbody>
      <tr>
        <td style="background-color:#312D2A">
          <p class="Footer">Other Documentation Resources</p>
          <p class="Footer"><a href="https://docs.oracle.com/pls/topic/lookup?ctx=otm-latest&amp;id=otm-gs" target="_blank" title="Transportation and Global Trade Management Library">Help Center &amp; Guides</a>Â â¢ <a href="https://support.oracle.com/support/?documentId=KB153929" target="_blank" title="My Oracle Support">Extra Documents</a>Â â¢Â <a href="https://support.oracle.com/support/?documentId=KA171" target="_blank" title="Information Center">Information Center</a></p>
        </td>
        <td style="background-color:#312D2A">
          <p class="Footer"><a href="../../general/cpyr.htm">CopyrightÂ Â© 2001, <span data-field="date" data-format="YYYY">2025</span>, Oracle and/or its affiliates.</a></p>
        </td>
        <td style="background-color:#312D2A">
          <p class="Footer">Contact Oracle</p>
          <p class="Footer"><a href="https://support.oracle.com" target="_blank">Contact Support</a> â¢ <a class="footer" href="javascript:sendFeedback()" target="_blank" title="Report an issue in the help or guides">Contact Documentation</a></p>
        </td>
      </tr>
    </tbody>
  </table>

</footer>
  <script type="text/javascript">//<![CDATA[

    gRootRelPath = "../.."
    gCommonRootRelPath = "../.."
    gTopicId = "31.3.4.1.0_1"
  
//]]></script>


  <script src="../../template/scripts/topicpage.js"></script>
  <script src="../../whxdata/layoutconfig.js"></script>
  <script src="../../whxdata/brsdata.js"></script>

  
    
      
          

            
              
                <link rel="StyleSheet" href="../../template/bluelagoon_-_redwood/custom.css" type="text/css">
                
                  


</body></html>