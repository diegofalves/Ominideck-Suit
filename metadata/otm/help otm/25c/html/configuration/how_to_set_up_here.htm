<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, user-scalable=yes">
  <meta name="version" content="2022.3.0">
  <link rel="StyleSheet" href="../template/styles/topic.min.css" type="text/css">
  <link rel="StyleSheet" data-skin="true" type="text/css" href="../template/bluelagoon_-_redwood/layout.css">
  <link rel="StyleSheet" data-skin="true" href="../template/bluelagoon_-_redwood/userstyles.css" type="text/css">
  
  <script data-relpath=".." src="../template/scripts/csh-redirect.js" type="text/javascript"></script>
<link rel="StyleSheet" href="../assets/css/redwood.css" type="text/css">
  <meta name="template" content="../assets/masterpages/fleet management.htt">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="topic-status" content="Ready for Review">
  <meta name="topic-priority" content="0">
  <meta name="topic-time-estimate" content="0">
  <meta name="topic-comment" content>
  <meta name="topic-id" content="configuration\how_to_set_up_and_execute_cr_aggregation.htm">
  <meta http-equiv="Content-Language" content="en-US">
  <meta name="generator" content="Adobe RoboHelp 2022">
  <title>Integrating with HERE Engine</title>
  <link rel="StyleSheet" href="../assets/css/redwood.css" type="text/css">
  <script type="text/javascript" language="JavaScript1.2" src="../assets/js/feedback.js"></script>
  <meta name="rh-index-keywords" content="how to:set up the HERE engine to use the REST service and OAUth authentication,here,here engine,OAUth,REST">
<meta name="rh-version" content="2022.6.34"><meta name="description" content>
  
  
  
  
  <style>
  </style>
  <link rel="stylesheet" type="text/css" href="../assets/css/redwood.css">
<meta name="rh-version" content="2022.6.34">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.created" content="2025-07-16T17:04:08+00:00">
    <meta name="dcterms.title" content="Online Help for Transportation and Global Trade Management">
    <meta name="dcterms.category" content="cloud">
    <meta name="dcterms.isVersionOf" content="OTMOL">
    <meta name="dcterms.product" content="en/cloud/saas/transportation/25c">
    <meta name="dcterms.identifier" content="G28971-02">
    <meta name="dcterms.release" content="Release 25C">
  <script id="ssot-metadata" type="application/json">{"primary":{"category":{"short_name":"cloud","element_name":"Cloud","display_in_url":true},"suite":{"short_name":"saas","element_name":"Cloud Applications","display_in_url":true},"product_group":{"short_name":"supply-chain-management","element_name":"Supply Chain Management","display_in_url":false},"product":{"short_name":"transportation","element_name":"Transportation and Global Trade Management Cloud","display_in_url":true},"release":{"short_name":"25c","element_name":"Release 25C","display_in_url":true}}}</script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebPage","name":"Integrating with HERE Engine","description":"","datePublished":"2025-07-16 CST","dateModified":"2025-07-16 CST"}</script>
    <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>

<body class="rh-BODY-wrapper">
  <div class="cookie-widget-holder" id="cookie-status-widget-holder"></div>
  <div class="RH-LAYOUT-HEADER-skip-content-container" id="skip-to-content"></div>
  <header class="RH-LAYOUT-HEADER-container" role="banner">
    <div class="RH-LAYOUT-HEADER-logo-box  ">
      <div class="RH-LAYOUT-HEADER-logo" id="logo-holder"></div>
      <div class="RH-LAYOUT-HEADER-title" id="topic-title-holder"></div>
    </div>
    <div class="RH-LAYOUT-HEADERMENU-container" id="header-menu"></div>
    <div class="search-placeholder-class" id="search-with-help"></div>
  </header>
  <main role="main" class="RH-LAYOUT-BODY-container">
    <div class="RH-LAYOUT-SEARCHRESULTS" id="rh-searchresults"></div>
    <div class="RH-LAYOUT-LEFTPANEL-container" id="rh-leftpanel"></div>
    <div class="rh-layout-BODY-main" id="rh-layout-main">
      <div class="RH-LAYOUT-TOOLBAR-toolbar-box" id="rh-toolbar"></div>
      <div class="rh-layout-BODY-body">
        <div class="RH-LAYOUT-CENTERPANEL-container">
          <div class="rh-layout-selectdetails" id="rh-selectdetails"></div>
          <div class="RH-LAYOUT-CENTERPANEL-topic-box" id="rh-topic">
  <div>
    <p class="Header">Fleet Management</p>
  </div>
  <div><noscript>
    If you have any questions or comments about this topic or the online help,
    please <a href="mailto:otm-doc_us@oracle.com?subject=Documentation feedback:OTM Help">contact
      us.</a>
  </noscript>
  <h1><span data-field="title" data-format="default">Integrating with HERE Engine</span></h1>
  <div role="main">
    <p>One of the external distance and service engines used in calculating the distance and the service time between locations in Oracle Transportation Management is HERE. HERE captures location content such as road networks, buildings, parks and traffic patterns and licenses that mapping content, along with map-related navigation and location services. It provides location services through REST API including Geo Coding, Search, Maps, Navigation, Routing, Fleet Telematics, and more.</p>
    <p>Following are the different use cases supported with integration to HERE:</p>
    <ul>
      <li><span class="Bold">Geo coding: </span>Get latitude/longitude of a location based on an address. The latitude/longitude can be fetched based on different geo hierarchy types.</li>
      <li><span class="Bold">Distance:</span> Calculate the distance between two locations.</li>
      <li><span class="Bold">Service Time: </span>Calculate the time taken to travel between two locations.</li>
      <li><span class="Bold">Custom Routes: </span>HERE provides a service to define your own routes that do not exist or block some roads which the truck should not take. Using this service you can calculate the distance and time between two locations which include these custom routes.</li>
      <li><span class="Bold">Custom Locations: </span>HERE provides a service to define the boundaries of a location (distribution center, warehouse, etc.) and also the access points for the location.Â Using this service you can calculate the distance and time between two locations which include these custom locations.</li>
      <li><span class="Bold">Generate Rush Hour: </span>Calculate the delta of travel time with and without traffic between locations defined in a region.</li>
      <li><span class="Bold">Weekend Restrictions (using Fleet Telematics): </span>Calculate the distance and the service time including some weekend restrictions and rest times for drivers.</li>
    </ul>
    <p>These use cases are supported with the following integrations of Oracle Transportation Management with HERE. The use cases refer to content on the <a href="../planning/power_data/rates_and_codes/distance_engine.htm">External Distance Engine</a>Â page.</p>
    <ul>
      <li><span class="Bold">HERE:</span> This integration supports all the services that have the output format as XML.Â This integration supports V6 and V7 HERE routing services. It also supports V6Â Geocoding, custom routes, custom locations, and matrix routing services. The authentication for HERE is defined by a propertyÂ <a href="../properties/glog/externaldistance.engine.properties.htm#glog.ExternalDistanceEngine.HERE.authenticationType">glog.ExternalDistanceEngine.HERE.authenticationType</a>Â and the possible values areÂ AppIdAppCode, ApiKey, and OAuth.Â If the option selected is &quot;HERE&quot; (version 7), enter an <span class="Bold"><a href="../communication/contact_manager/new_external_system.htm">External System ID</a></span>Â on the <a href="../planning/power_data/rates_and_codes/distance_engine.htm">External Distance Engine</a>Â page.</li>
      <li><span class="Bold">HERE Routing:</span> This integration supports the services that provide distance and service time, and have the output format as only JSON.Â This integration supports V8 HERE Routing services and can not be used for geocoding, custom routes, custom locations, and matrix routing services. ThisÂ integration is used for the generation of the rush hourÂ when theÂ <a href="../properties/glog/business.property.htm#glog.business.session.useMatrixServiceToGenerateRushHours">glog.business.session.useMatrixServiceToGenerateRushHours</a> is set to false.Â The authentication used for HERE Routing is OAuth.Â If the option selected is &quot;HERE - Routing&quot; (version 8) option, enter an <span class="Bold"><a href="../communication/contact_manager/new_external_system.htm">External System ID</a></span>Â on the <a href="../planning/power_data/rates_and_codes/distance_engine.htm">External Distance Engine</a>Â page.</li>
      <li><span class="Bold">HEREÂ Geocoding: </span>This integration supports the services that provide Geocoding services and have the output format as only JSON.Â This integration supports V7 HEREÂ Geocoding services.Â The authentication used for HEREÂ Geocoding is OAuth.</li>
    </ul>
    <h2><a id="HERE"></a>HERE</h2>
    <p>This is the initial integration that is provided with HERE services. It is designed for parsing XML output for all the use cases. This integration is available when an EDE/ESE (External Distance Engine or External Service Engine) is defined either with the java class as glog.business.rate.ratedistance.external.HereEngine or with External Engine Type as HERE.</p>
    <p>In this integration, the services can be accessible using the URL in the following format:Â <span class="Code">https://&lt;<span class="Bold">Service End Point</span>&gt;/&lt;<span class="Bold">resource</span>&gt;/&lt;<span class="Bold">version</span>&gt;/&lt;<span class="Bold">operation</span>&gt;.&lt;<span class="Bold">Output Format</span>&gt;</span></p>
    <p>The &lt;<span class="Bold">Output Format</span>&gt; used in this case is always XML. So the service URL in this case is always:Â <span class="Code">https://&lt;<span class="Bold">Service End Point</span>&gt;/&lt;<span class="Bold">resource</span>&gt;/&lt;<span class="Bold">version</span>&gt;/&lt;<span class="Bold">operation</span>&gt;.</span><span class="Code">xml</span></p>
    <h3>Seed Data</h3>
    <p>For this integration, some out-of-box records are provided. Most of the time you can use these out-of-box EDE/ESE for distance and service time calculations. The recommended approach is to copy these EDE/ESE and provide the static parameters for configuring as you see fit to use for different planning purposes.</p>
    <h4>External Distance Engine</h4>
    <ol>
      <li><span class="Bold">HERE_LATLONG_TO_LATLONG</span>:Â This is for calculating the distance between two points. Provide this EDE to the rate distance that is to be used in the rate offering/rate record. This EDE is provided with the following parameters:
        <ul>
          <li><span class="Bold">HOST</span>: here.route.host (property pointing to the service URL)</li>
          <li><span class="Bold">SOURCE_ADDRESS_TYPE</span>:Â LAT_LONG</li>
          <li><span class="Bold">DEST_ADDRESS_TYPE</span>:Â LAT_LONG</li>
          <li><span class="Bold">ROUTING_MODE_TYPE</span>:Â fastest</li>
          <li><span class="Bold">EQUIPMENT_RESTRICTIONS</span>:Â No</li>
          <li><span class="Bold">TOLL_PREFERENCE</span>:Â Normal (value 0)</li>
          <li><span class="Bold">TRANSPORT_MODE</span></li>
        </ul>
      </li>
      <li>HERE_ADDRESS:Â This is used for geo coding of a location based on the address. The latitude/longitude is fetched based on the address type &#39;ADDRESS&#39; which fetches the address from the location.
        <ul>
          <li><span class="Bold">HOST</span>: here.geocode.host (property pointing to the service URL)</li>
          <li><span class="Bold">SOURCE_ADDRESS_TYPE</span>:Â ADDRESS</li>
        </ul>
      </li>
    </ol>
    <h4>External Service Engine</h4>
    <ol>
      <li><span class="Bold">HERE_LATLONG_TO_LATLONG</span>:Â This is for calculating the service time or used in generating Rush Hour Data. Provide this ESE to the rate distance that is to be used in the rate offering/rate record. This ESE is provided with the following parameters:
        <ul>
          <li><span class="Bold">HOST</span>: here.route.host (property pointing to the service URL)</li>
          <li><span class="Bold">SOURCE_ADDRESS_TYPE</span>:Â LAT_LONG</li>
          <li><span class="Bold">DEST_ADDRESS_TYPE</span>:Â LAT_LONG</li>
        </ul>
      </li>
    </ol>
    <h3>Authentication</h3>
    <p>For this integration, there are three types of authentication:</p>
    <ul>
      <li>App ID and App Code</li>
      <li>API Key</li>
      <li>OAuth</li>
    </ul>
    <p>The property <a href="../properties/glog/externaldistance.engine.properties.htm">glog.ExternalDistanceEngine.HERE.authenticationType</a>, has been added to select one of the authentication type.</p>
    <p>This property can have one the following values and these values are case sensitive:</p>
    <ul>
      <li>AppIdAppCode</li>
      <li>ApiKey</li>
      <li>OAuth</li>
    </ul>
    <p>The default authentication type is <span class="Bold">AppIdAppCodeÂ </span>to have backward compatibility from the previous releases. However, it is recommended that you use the authentication type as OAuth.</p>
    <h4>App Id and App Code Authentication (glog.ExternalDistanceEngine.HERE.authenticationType=AppIdAppCode)</h4>
    <p>The current way of authentication and default for the integration of HERE with Oracle Transportation Management is using an <span class="Bold">app_id</span> and <span class="Bold">app_code</span>. HERE will deprecate this authentication as this is less secure and does not have any way of rotating the credentials. HERE will only support this for the existing clients and for all the new clients they would not be providing anÂ <span class="Bold">app_code</span>. The <span class="Bold">app_id</span> is, however, created for every client when they register their project with HERE.</p>
    <p>The authentication credentials <span class="Bold">app_id</span> and <span class="Bold">app_code</span> are provided using the properties <a href="../properties/here/here_engine_properties.htm"><span class="Bold">here.app_id</span></a> and <a href="../properties/here/here_engine_properties.htm"><span class="Bold">here.app_code</span></a> in Oracle Transportation Management.</p>
    <p>In this authentication, the service URL is appended with the query parameters with parameter name as app_id and its value. Similarly, the app_code and its value will be appended. The other parameters are also appended to the service URL to form the query.</p>
    <p><span class="Code">https://&lt;Service End Point&gt;/&lt;resource&gt;/&lt;version&gt;/&lt;operation&gt;.xml?app_id=&lt;app_id value&gt;&amp;app_code=&lt;app_code value&gt;&amp;waypoint0=geo!lat,long&amp;waypoint1=geo!lat,long&amp;mode=Type;TransportModes;TrafficMode;Feature</span></p>
    <h5>EDE/ESE (External Distance Engine/External Service Time Engine)</h5>
    <p>Depending on the use case you may have to create an EDE or ESE either with the Java class as glog.business.rate.ratedistance.external.HereEngine or with theÂ External Engine Type as <span class="Bold">HERE</span>.</p>
    <p>The parameters should always have HOST with a property that defines the service URL for the use case.</p>
    <h5>Use Case - Service URL</h5>
    <p>The service URLs or the value of the property specified by <span class="Bold">EDE/ESE</span> parameter <span class="Bold">HOST </span>which is usually <span class="Bold">here.route.host</span> for each of the use case are:</p>
    <ul>
      <li><span class="Bold">Geo coding</span>: https://geocoder.api.here.com/6.2/geocode.xml</li>
      <li><span class="Bold">Distance</span>: https://route.api.here.com/routing/7.2/calculateroute.xml</li>
      <li><span class="Bold">Service Time</span>: https://route.api.here.com/routing/7.2/calculateroute.xml</li>
      <li><span class="Bold">Custom Routes</span>: https://cre.api.here.com/2/calculateroute.xml</li>
      <li><span class="Bold">Custom Locations</span>: https://cle.api.here.com/2/calculateroute.xml</li>
      <li><span class="Bold">Generate Rush Hour (Calculating the delta of service time difference with and without traffic for a defined region pairs)</span>: If the property glog.business.session.useMatrixServiceToGenerateRushHours is false, set the property here.route.host to <span class="Code">https://route.api.here.com/routing/7.2/calculateroute.xml</span>; and if true, set the property here.route.matrix.host to <span class="Code">https://route.api.here.com/routing/7.2/calculatematrix.</span><span class="Code">xml</span>.</li>
      <li><span class="Bold">Weekend Restrictions (Using Fleet Telematics)</span>: <span class="Code">https://fleet.api.here.com/2/calculateroute.xml</span></li>
    </ul>
    <h4>API Key Authentication (glog.ExternalDistanceEngine.HERE.authenticationType=ApiKey)</h4>
    <p>HERE recommends to use apiKey that can be generated in the HERE portal for authentication purposes. The apiKey is like a password for the user. You can generate at the most two apiKey at any given time and they can be rotated by deleting one and generating a fresh apiKey. Refer to the section Obtaining API Key or OAuth 2.0 Credentials.</p>
    <p>The authentication credential apiKey is provided using the property here.api_key in Oracle Transportation Management.</p>
    <p>In this authentication, the service URL is appended with the query parameter with parameter name as apiKey and its value.</p>
    <p><span class="Code">https://&lt;<span class="Bold">Service End Point</span>&gt;/&lt;<span class="Bold">resource</span>&gt;/&lt;<span class="Bold">version</span>&gt;/&lt;<span class="Bold">operation</span>&gt;.xml?<span class="Bold">apiKey</span>=&lt;apiKey value&gt;&amp;waypoint0=geo!lat,long&amp;waypoint1=geo!lat,long&amp;mode=Type;TransportModes;TrafficMode;Feature</span></p>
    <h5>EDE/ESE (External Distance Engine/External Service Time Engine)</h5>
    <p>Depending on the use case, you may have to create an EDE or ESE either with the Java class as glog.business.rate.ratedistance.external.HereEngine or with theÂ External Engine Type as <span class="Bold">HERE</span>.</p>
    <p>The parameters should always have HOST with a property that defines the service URL for the use case.</p>
    <h5>Use Case - Service URL</h5>
    <p>The service URLs or the value of the property specified by <span class="Bold">EDE/ESE</span> parameter <span class="Bold">HOST</span> which is usually <span class="Bold">here.route.host</span> for each of the use case are:</p>
    <ul>
      <li><span class="Bold">Geo coding</span>: <span class="Code">https://geocoder.ls.hereapi.com/6.2/geocode.xml</span></li>
      <li><span class="Bold">Distance</span>: <span class="Code">https://route.ls.hereapi.com/routing/7.2/calculateroute.xml</span></li>
      <li><span class="Bold">Service Time</span>: <span class="Code">https://route.ls.hereapi.com/routing/7.2/calculateroute.xml</span></li>
      <li><span class="Bold">Custom Routes</span>: <span class="Code">https://fleet.ls.hereapi.com/2/calculateroute.xml</span></li>
      <li><span class="Bold">Custom Locations</span>: <span class="Code">https://fleet.ls.hereapi.com/2/calculateroute.xml</span></li>
      <li><span class="Bold">Generate Rush Hour (Calculating the delta of service time difference with and without traffic for a defined region pairs)</span>: If the property glog.business.session.useMatrixServiceToGenerateRushHours is false, set the property here.route.host to <span class="Code">https://route.ls.hereapi.com/routing/7.2/calculateroute.xml</span>; and if true, set the property here.route.matrix.host to <span class="Code">https://matrix.route.ls.hereapi.com/routing/7.2/calculatematrix.</span><span class="Code">xml</span>.</li>
      <li><span class="Bold">Weekend Restrictions (Using Fleet Telematics)</span>: <span class="Code">https://fleet.ls.hereapi.com/2/calculateroute.</span><span class="Code">xml</span>.</li>
    </ul>
    <p>For more information about the changes in the host for service URLs, refer to <a href="https://www.here.com/docs/bundle/identity-and-access-management-developer-guide/page/topics/hosts-mapping.html" target="_blank" title="HERE Developer Domain names for HERE services">HERE Developer Domain names for HERE services</a>.Â </p>
    <h4>OAuth 2.0 Authentication (glog.ExternalDistanceEngine.HERE.authenticationType=OAuth)</h4>
    <p>OAuth based authenticationÂ  authenticates the request by posting an access token in the request to HERE. Obtain the access token using a separate authentication service endpoint. This endpoint will ask for an OAuth1 based signature to identify a consumer key and the secret. Refer to the section Obtaining API Key or OAuth 2.0 Credentials for obtaining the necessary credentials required for OAuth.</p>
    <p>In this authentication, we do not pass the required authentication as a query parameter. Instead a request is posted using a bearer access token that is obtained by using an <span class="Bold">Authorization Service URL</span>.Â </p>
    <p><span class="Code">https://&lt;Service End Point&gt;/&lt;resource&gt;/&lt;version&gt;/&lt;operation&gt;.xml?waypoint0=geo!lat,long&amp;waypoint1=geo!lat,long&amp;mode=Type;TransportModes;TrafficMode;Feature</span></p>
    <p>The Service URL, Authorization Service URL, Consumer Key, and Consumer Secret are specified by using an <a href="../communication/contact_manager/new_external_system.htm">external system</a>. The operation in the above-mentioned URL is passed from the code according to the use case and need not be defined in the external system URL.</p>
    <p>Define an external system with the following details:</p>
    <ol>
      <li>Provide the <span class="Bold">Authentication Type</span> as <span class="Bold">OAuth 2.0 - Client Credentials</span>.</li>
      <li>Provide the <span class="Bold">Authorization Service Authentication Type</span> as <span class="Bold">HERE OAuth 1.0 Signature</span>.</li>
      <li>Provide the <span class="Bold">Consumer Key</span> and <span class="Bold">Consumer Secret</span> as the value of the key <span class="Bold">here.access.key.id</span> and <span class="Bold">here.access.key.secret</span> respectively from <span class="Bold">credential.properties</span> generated for HERE.</li>
      <li>Provide the <span class="Bold">Signature Algorithm</span> as <span class="Bold">HMAC-SHA256</span>.</li>
      <li>Provide the <span class="Bold">Authorization Service URL</span> as <span class="Bold"><span class="Code">https://account.api.here.com/oauth2/token</span>.</span></li>
      <li>Provide the <span class="Bold">URL </span>based on <span class="Bold">UseCase - ServiceURL</span> section defined below.</li>
      <li>Provide the <span class="Bold">Content Type</span> as <span class="Bold">text/xml</span> or <span class="Bold">application/xml</span>.</li>
    </ol>
    <h5>EDE/ESE (External Distance Engine/External Service Time Engine)</h5>
    <p>Depending on the use case, you may have to create an EDE or ESE either with the Java class as glog.business.rate.ratedistance.external.HereEngine or with the External Engine Type as <span class="Bold">HERE</span>.</p>
    <p>The External System field will be displayed on the EDE/ESE only when the authentication type is OAuth.</p>
    <h5>Use Case - Service URL</h5>
    <p>The URLs for each of the use case are:</p>
    <ul>
      <li><span class="Bold">Geo coding</span>: <span class="Code">https://geocoder.ls.hereapi.com/6.2/</span></li>
      <li><span class="Bold">Distance</span>: <span class="Code">https://route.ls.hereapi.com/routing/7.2/</span></li>
      <li><span class="Bold">Service Time</span>: <span class="Code">https://route.ls.hereapi.com/routing/7.2/</span></li>
      <li><span class="Bold">Custom Routes</span>: <span class="Code">https://fleet.ls.hereapi.com/2/</span></li>
      <li><span class="Bold">Custom Locations</span>: <span class="Code">https://fleet.ls.hereapi.com/2/</span></li>
      <li><span class="Bold">Generate Rush Hour (Calculating the delta of service time difference with and without traffic for a defined region pairs)</span>: If the property glog.business.session.useMatrixServiceToGenerateRushHours is false, use an external system with URL as <span class="Code">https://route.ls.hereapi.com/routing/7.2/</span>; and if true, use an external system with <span class="Bold">URL</span> as <span class="Code">https://matrix.route.ls.hereapi.com/routing/7.2/</span>.</li>
      <li><span class="Bold">Weekend Restrictions (Using Fleet Telematics)</span>: https://fleet.ls.hereapi.com/2/.</li>
    </ul>
    <p>For more information about the changes in the host for service URLs, refer to <a href="https://www.here.com/docs/bundle/identity-and-access-management-developer-guide/page/topics/hosts-mapping.html" target="_blank" title="HERE Developer Domain names for HERE services">HERE Developer Domain names for HERE services</a>.Â </p>
    <h2><a id="HERE_routing"></a>HERE Routing</h2>
    <p>This is designed for parsing JSON output for all the use cases. This integration is available when an External Distance Engine or External Service Engine is defined either with the <span class="Bold">Java class</span> as <span class="Bold">glog.business.rate.ratedistance.external.HereRouting</span> or with the <span class="Bold">External Engine Type</span> as <span class="Bold">HERE - Routing</span>.</p>
    <p>In this integration, the services can be accessed using the URL in the following format:Â <span class="Code">https://&lt;Service End Point&gt;/&lt;version&gt;/&lt;resource&gt;</span></p>
    <h3>Seed Data</h3>
    <p>For this integration, few out-of-box records are provided.Â Use these out-of-box EDE/ESE as a template and create your own recordÂ for distance, service time calculation, and to Generate Rush Hour data. The recommended approach is to copy these EDE/ESE and provide the static parameters for configuring as you see fit to use for different purposes.</p>
    <p>For Generate Rush Hour (Calculating the delta of service time difference with and without trafficÂ for a defined region pairs), if the property <a href="../properties/glog/business.property.htm">glog.business.session.useMatrixServiceToGenerateRushHours</a> is false, then the out-of-box ESE provided will be used to calculate the Rush Hour data. If it is true, then it uses a variation of HERE - Routing that uses matrix service rather than the routing service.Â </p>
    <h4>External System</h4>
    <p>There are two external systems as described below:</p>
    <ol>
      <li>The external system HERE_ROUTING_SAMPLE_ES is provided as an example used for EDE/ESE -Â HERE_ROUTING_LATLONG_TO_LATLONG. This External System is configured with the following fields:
        <ul>
          <li><span class="Bold">Authentication Type</span>:Â OAuth 2.0 - Client Credentials.</li>
          <li><span class="Bold">Authorization Service Authentication Type</span>: HEREÂ OAuth 1.0 Signature.</li>
          <li><span class="Bold">Signature Algorithm</span>:Â HMAC-SHA256.</li>
          <li><span class="Bold">Authorization Service URL</span>: <span class="Code">https://account.api.here.com/oauth2/token</span></li>
          <li><span class="Bold">URL</span>: <span class="Code">https://router.hereapi.com/v8/</span></li>
          <li><span class="Bold">Content Type</span>: application/json</li>
        </ul>
      </li>
      <li>The external system HERE_ROUTING_MATRIX_SAMPLE_ES is provided as an example used only for ESE -HERE_ROUTING_MATRIX_LATLONG_TO_LATLONG. This External System is configured with the following fields:
        <ul>
          <li><span class="Bold">Authentication Type</span>:Â OAuth 2.0 - Client Credentials.</li>
          <li><span class="Bold">Authorization Service Authentication Type</span>: HEREÂ OAuth 1.0 Signature.</li>
          <li><span class="Bold">Signature Algorithm</span>:Â HMAC-SHA256.</li>
          <li><span class="Bold">Authorization Service URL</span>: <span class="Code">https://account.api.here.com/oauth2/token</span></li>
          <li><span class="Bold">URL</span>: <span class="Code">https://matrix.router.hereapi.com/v8/</span></li>
          <li><span class="Bold">Content Type</span>: application/json</li>
        </ul>
      </li>
    </ol>
    <p>You will have to provide the Consumer Key and Consumer Secret obtained from HERE.</p>
    <h4>External Service Engine</h4>
    <ol>
      <li><span class="Bold">HERE_ROUTING_LATLONG_TO_LATLONG</span>:Â This is for calculating the service time or used in generating Rush Hour Data. Provide this ESE to the rate distance that is to be used in the rate offering/rate record. This ESE is provided with the following parameters:
        <ul>
          <li><span class="Bold">SOURCE_ADDRESS_TYPE</span>:Â LAT_LONG</li>
          <li><span class="Bold">DEST_ADDRESS_TYPE</span>:Â LAT_LONG</li>
        </ul>
      </li>
      <li><span class="Bold">HERE_ROUTING_MATRIX_LATLONG_TO_LATLONG</span>: This is for calculating the transit time delay in the rush hour process. Provide this ESE in the drop-down to be used for generating the rush hour data fromÂ Contract and Rate Management&gt;Process Management when glog.business.session.useMatrixServiceToGenerateRushHours is true. The ESE is provided with External System HERE_ROUTING_MATRIX_SAMPLE_ES. The ESE is provided with the following parameters:
        <ul>
          <li><span class="Bold">SOURCE_ADDRESS_TYPE</span>:Â LAT_LONG</li>
          <li><span class="Bold">DEST_ADDRESS_TYPE</span>:Â LAT_LONG</li>
        </ul>
      </li>
    </ol>
    <h4>External Distance Engine</h4>
    <ol>
      <li><span class="Bold">HERE_ROUTING_LATLONG_TO_LATLONG</span>:Â This is for calculating the distance between two points. Provide this EDE to the rate distance that is to be used in the rate offering/rate record.
        <ol>
          <li>This EDE is provided with External System HERE_ROUTING_SAMPLE_ES.</li>
          <li>This EDE is provided with the following parameters:
            <ul>
              <li><span class="Bold">SOURCE_ADDRESS_TYPE</span>:Â LAT_LONG</li>
              <li><span class="Bold">DEST_ADDRESS_TYPE</span>:Â LAT_LONG</li>
            </ul>
          </li>
        </ol>
      </li>
    </ol>
    <h3>Authentication</h3>
    <p>For this integration, only OAuth authentication is supported. No property is required.</p>
    <p>OAuth based authenticationÂ  authenticates the request by posting an access token in the request to HERE. Obtain the access token using a separate authentication service endpoint. This endpoint will ask for an OAuth1 based signature to identify a consumer key and the secret. Refer to the section Obtaining API Key or OAuth 2.0 Credentials for obtaining the necessary credentials required for OAuth.</p>
    <p>In this authentication, we do not pass the required authentication as a query parameter. Instead a request is posted using a bearer access token that is obtained by using an Authorization Service URL.Â </p>
    <p><span class="Code">https://&lt;Service End Point&gt;/&lt;version&gt;/&lt;resource&gt;?origin=lat,long&amp;destination=lat,long&amp;routingMode=Type&amp;transportMode=TransportMode&amp;avoid[features]=CommaSeparatedFeaturesToAvoid&amp;truck[truckParameterType]=truckParameterValue</span></p>
    <p>The Service URL, Authorization Service URL, Consumer Key, and Consumer Secret are specified by using an external system. The operation in the above-mentioned URL is passed from the code according to the use case and need not be defined in the external system URL.</p>
    <p>Define an external system with the following details:</p>
    <ol>
      <li>Provide the <span class="Bold">Authentication Type</span> as <span class="Bold">OAuth 2.0 - Client Credentials</span>.</li>
      <li>Provide the <span class="Bold">Authorization Service Authentication Type</span> as <span class="Bold">HERE OAuth 1.0 Signature</span>.</li>
      <li>Provide the <span class="Bold">Consumer Key</span> and <span class="Bold">Consumer Secret</span> as the value of the key <span class="Bold">here.access.key.id</span> and <span class="Bold">here.access.key.secret</span> respectively from <span class="Bold">credential.properties</span> generated for HERE.</li>
      <li>Provide the <span class="Bold">Signature Algorithm</span> as <span class="Bold">HMAC-SHA256</span>.</li>
      <li>Provide the <span class="Bold">Authorization Service URL</span> as <span class="Code">https://account.api.here.com/oauth2/token</span>.</li>
      <li>Provide the <span class="Bold">URL</span> value based on Use Case - ServiceURL section defined below.</li>
      <li>Provide the <span class="Bold">Content Type</span> as <span class="Bold">application/json</span>.</li>
    </ol>
    <h4>EDE/ESE (External Distance Engine/External Service Time Engine)</h4>
    <p>Depending on the use case, you may have to create an EDE or ESE either with the Java class as glog.business.rate.ratedistance.external.HereRouting or with the External Engine Type as HERE - Routing.</p>
    <p>When you select the External Engine Type as HERE - Routing, the External System field will be displayed. Define the external system as described above and provide it here.</p>
    <h4>Use Case - Service URL</h4>
    <p>The URLs for each of the use case are:</p>
    <ul>
      <li><span class="Bold">Distance</span>: <span class="Code">https://router.hereapi.com/v8/routes</span>.</li>
      <li><span class="Bold">Service Time</span>: <span class="Code">https://router.hereapi.com/v8/routes</span>.</li>
      <li><span class="Bold">Generate Rush Hour</span>:Â ifÂ the property <a href="../properties/glog/business.property.htm#glog.business.session.useMatrixServiceToGenerateRushHours">glog.business.session.useMatrixServiceToGenerateRushHours</a> isÂ false, thenÂ set <a href="../properties/glog/externaldistance.engine.properties.htm#glog.ExternalDistanceEngine.HERE.authenticationType">glog.ExternalDistanceEngine.HERE.authenticationType</a> to OAuth andÂ Â set the endpoint URL in the corresponding External System of ESE to <span class="Code">https://router.hereapi.com/v8/routes</span>. If the property is true, then set to <span class="Code">https://matrix.router.hereapi.com/v8</span>.</li>
    </ul>
    <p>For more information on the changes in the host for service URLs, refer to <a href="https://www.here.com/docs/bundle/identity-and-access-management-developer-guide/page/topics/hosts-mapping.html" target="_blank" title="HERE Developer Domain names for HERE services">HERE Developer Domain names for HERE services</a>.Â </p>
    <h2>HERE Geocoding</h2>
    <p>This is the latest integration for Geocoding that is provided with HERE services. It is designed for parsing JSON output for all the use cases. This integration is available when an External Distance Engine or External Service Engine is defined either with the Java class as <a href="../properties/glog/externaldistance.engine.properties.htm#glog.ExternalDistanceEngine.EDEType.Class.glog.business.rate.ratedistance.external.HereGeocoding=HERE_GEOCODING">glog.business.rate.ratedistance.external.HereGeocoding</a> or with the External Engine Type as HERE - Geocoding.</p>
    <p>The HERE Geocoding and Search API v7 support two types of queries:</p>
    <ul>
      <li><span class="Bold">Qualified (structured)</span>: This is a structured and hybrid query. This format of query is used when the EDE parameterÂ  SOURCE_ADDRESS_TYPE is one of the following:Â CITY_COUNTRY, CITY_POSTAL, CITY_PROVINCE, POSTAL_CODE, POSTAL_CODE_COUNTRY, POSTAL_CODE_PROVINCE, STREET_ADDRESS.</li>
      <li><span class="Bold">Free form</span>: General address. The geocode endpoint enables the entry of unstructured character strings as queries like addresses or places. This format of query is used when the EDE parameterÂ SOURCE_ADDRESS_TYPE is ADDRESS.</li>
    </ul>
    <p>For example, a query for &quot;125 Beacon Street, Boston, MA, USA&quot; can be expressed in multiple ways as follows:</p>
    <ul>
      <li><span class="Bold">Freeform</span>: &quot;125 Beacon Street, Boston, MA, USA&quot;</li>
      <li><span class="Bold">Qualified</span>: houseNumber=125;street=Beacon Street;city=Boston;state=MA;country=USA</li>
    </ul>
    <h4>External System</h4>
    <p>An External System must be configured with the following fields:</p>
    <ul>
      <li><span class="Bold">Authentication Type</span>:Â OAuth 2.0 - Client Credentials.</li>
      <li><span class="Bold">Authorization Service Authentication Type</span>: HEREÂ OAuth 1.0 Signature.</li>
      <li><span class="Bold">Signature Algorithm</span>:Â HMAC-SHA256.</li>
      <li><span class="Bold">Authorization Service URL</span>: <span class="Code">https://account.api.here.com/oauth2/token</span>.</li>
      <li><span class="Bold">URL</span>: <span class="Code">https://geocode.search.hereapi.com/v1</span>.</li>
      <li><span class="Bold">Content Type</span>: application/json.</li>
    </ul>
    <p>You will have to provide the Consumer Key and Consumer Secret obtained from HERE.</p>
    <h4>External Distance Engine</h4>
    <p>The HERE Geocoding is used to validate an address. Define anÂ EDEÂ that has a parameterÂ SOURCE_ADDRESS_TYPEÂ having one of the following values:</p>
    <ul>
      <li>Address (Address Validation Only)</li>
      <li>City CountryÂ (Address Validation Only)</li>
      <li>City PostalÂ (Address Validation Only)</li>
      <li>City ProvinceÂ (Address Validation Only)</li>
      <li>Postal CodeÂ (Address Validation Only)</li>
      <li>Postal Code CountryÂ (Address Validation Only)</li>
      <li>Postal Code ProvinceÂ (Address Validation Only)</li>
      <li>Street AddressÂ (Address Validation Only)</li>
    </ul>
    <h3>Seed Data</h3>
    <p>For this integration, some out-of-box records are provided.Â Use these out-of-box EDE as a template and create your own recordÂ to validate an address. The recommended approach is to copy these EDE and provide the static parameters for configuring as you see fit to use for different planning purposes.</p>
    <h4>External Distance Engine</h4>
    <p><span class="Bold">HERE_GEOCODING</span>:Â This is for validating an address.Â Provide this EDE to validate the address using Validate Address web action or Validate Location Address agent action for a Location.Â This EDE is provided with the external system, HERE_GEOCODING_SAMPLE_ES.Â This EDE is provided with the below parameter:</p>
    <ul>
      <li>SOURCE_ADDRESS_TYPE - ADDRESS</li>
    </ul>
    <h3>Authentication</h3>
    <p>For this integration, only OAuth authentication is supported. No property is required.</p>
    <p>OAuth based authentication authenticates the request by posting an access token in the request to HERE. Obtain the access token using a separate authentication service endpoint. This endpoint will ask for an OAuth1 based signature to identify a consumer key and the secret. Refer to the section Obtaining API Key or OAuth 2.0 Credentials for obtaining the necessary credentials required for OAuth.</p>
    <p>In this authentication, we don&#39;t pass the required authentication as a query parameter. Instead, a request is posted using a bearer access token that is obtained by using an <span class="Bold">Authorization Service URL</span>.Â </p>
    <p><span class="Code">https://&lt;Service End Point&gt;/&lt;version&gt;/&lt;resource&gt;?q=FreeFormQuery&amp;qq=SemiColonSeparatedQualifiedQuerySubParameters</span></p>
    <p>The Service URL, Authorization Service URL, Consumer Key, and Consumer Secret are specified by using an external system. The operation in the above-mentioned URL is passed from the code according to the use case and need not be defined in the external system URL.</p>
    <p>Define an external system with the following details:</p>
    <ol>
      <li>Provide the <span class="Bold">Authentication Type</span> as <span class="Bold">OAuth 2.0 - Client Credentials</span>.</li>
      <li>Provide the <span class="Bold">Authorization Service Authentication Type</span> as <span class="Bold">HERE OAuth 1.0 Signature</span>.</li>
      <li>Provide the <span class="Bold">Consumer Key</span> and <span class="Bold">Consumer Secret</span> as the value of the key <span class="Bold">here.access.key.id</span> and <span class="Bold">here.access.key.secret</span> respectively from <span class="Bold">credential.properties</span> generated for HERE.</li>
      <li>Provide the <span class="Bold">Signature Algorithm</span> as <span class="Bold">HMAC-SHA256</span>.</li>
      <li>Provide the <span class="Bold">Authorization Service URL</span> as <span class="Code">https://account.api.here.com/oauth2/token</span>.</li>
      <li>Provide the <span class="Bold">URL</span> value based on the Use Case - ServiceURL section defined below.</li>
      <li>Provide the <span class="Bold">Content Type</span> as <span class="Bold">application/json</span>.</li>
    </ol>
    <h4>EDEÂ (External Distance Engine)</h4>
    <p>Depending on the use case, you may have to create an EDEÂ either with the Java class as <a href="../properties/glog/externaldistance.engine.properties.htm#glog.ExternalDistanceEngine.EDEType.Class.glog.business.rate.ratedistance.external.HereGeocoding=HERE_GEOCODING">glog.business.rate.ratedistance.external.HereGeocoding</a> or with the External Engine Type as HERE - Geocoding.</p>
    <p>When you select the External Engine Type as HERE - Geocoding, the External System field will be displayed. Define the external system as described above and provide it here.</p>
    <h4>Use Case - Service URL</h4>
    <p>The use case for the Here Geocoding is to validate an address and the URL is <span class="Code">https://geocode.search.hereapi.com/v1</span>.</p>
    <p>For more information on changes in the host for service URLs, refer to <a href="https://www.here.com/docs/bundle/identity-and-access-management-developer-guide/page/topics/hosts-mapping.html" target="_blank" title="Domain names for HERE services">HERE Developer Domain names for HERE services</a>.</p>
    <h2><a id="obtaining_credentials"></a>Obtaining API Key or OAuth 2.0 Credentials</h2>
    <p>You need to register in the HERE development portal and create a project. The project is provided with an App ID. For this one you can generate the API Key and also create the OAuth credentials. You can create an account by registering at the <a href="https://developer.here.com/projects" target="_blank" title="HERE Developer site">HERE Developer site</a>.</p>
    <p>Use Create API Key under REST section for creating an API Key. For more details, see <a href="https://www.here.com/docs/bundle/identity-and-access-management-developer-guide/page/topics/plat-using-apikeys.html" target="_blank" title="HERE Developer API Keys">HERE Developer API Keys</a>.</p>
    <p>Use Create Credentials under REST section for creating credentials required for OAuth 2.0. For more details, see <a href="https://www.here.com/docs/bundle/identity-and-access-management-developer-guide/page/topics/plat-token.html" target="_blank" title="HERE Developer OAUTH Tokens">HERE Developer OAUTH Tokens</a>.</p>
  </div>
  <h2><a name="related" id="related"></a>Related Topics</h2>
  <p class="LinkList"><a href="../planning/power_data/rates_and_codes/external_distance_engine_properties.htm">External Distance/Service Engine and Map Parameters</a></p>
  <p class="LinkList"><a href="../properties/glog/externaldistance.engine.properties.htm">glog.ExternalDistanceEngine Properties</a></p>
  <p class="LinkList"><a href="../properties/here/here_engine_properties.htm">HERE Properties</a></p>
  <p class="LinkList"><a href="../communication/contact_manager/new_external_system.htm">External System</a></p>
  <p class="LinkList"><a href="../planning/power_data/rates_and_codes/distance_engine.htm">External Distance Engine</a></p>
  <p class="LinkList"><a href="../planning/power_data/rates_and_codes/service_external_engine.htm">External Service Engine</a></p>
  <script type="text/javascript" language="JavaScript1.2">
    //<![CDATA[
    if (typeof(InitEffects) != 'function') InitEffects = new Function();
    InitEffects('P1');
    //]]>
  </script>

</div>
  <div>
    <hr align="center">
    <p class="Footer"><img align="right" alt="Was this page helpful? Click to send feedback." height="49" src="../assets/images/feedback.png" style="font-family: &quot;Oracle Sans&quot;, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: medium;" usemap="#imagemap" width="322"><map data-img-height="49" data-img-width="322" name="imagemap"><area alt="How can we improve this page?" coords="222, 1, 265, 43" href="javascript:sendDownFeedback()" shape="rect" title="How can we improve this page?"><area alt="What did you like about this page?" coords="273, 4, 317, 45" href="javascript:sendUpFeedback()" shape="rect" title="What did you like about this page?"><area alt="Comments" coords="41, 3, 218, 45" href="javascript:sendFeedback()" shape="rect" title="Comments"></map></p>
  </div>

</div>
          <div class="RH-LAYOUT-BRS-container" id="rh-brs"></div>
        </div>
        <div class="RH-LAYOUT-RIGHTPANEL-container" id="rh-rightpanel"></div>
      </div>
    </div>
  </main>
  <footer role="contentinfo" class="RH-LAYOUT-FOOTER-container" id="rh-footer">
  <table border="0" cellpadding="1" cellspacing="1" class="table-unstyled">
    <tbody>
      <tr>
        <td style="background-color:#312D2A">
          <p class="Footer">Other Documentation Resources</p>
          <p class="Footer"><a href="https://docs.oracle.com/pls/topic/lookup?ctx=otm-latest&amp;id=otm-gs" target="_blank" title="Transportation and Global Trade Management Library">Help Center &amp; Guides</a>Â â¢ <a href="https://support.oracle.com/support/?documentId=KB153929" target="_blank" title="My Oracle Support">Extra Documents</a>Â â¢Â <a href="https://support.oracle.com/support/?documentId=KA171" target="_blank" title="Information Center">Information Center</a></p>
        </td>
        <td style="background-color:#312D2A">
          <p class="Footer"><a href="../general/cpyr.htm">CopyrightÂ Â© 2001, <span data-field="date" data-format="YYYY">2025</span>, Oracle and/or its affiliates.</a></p>
        </td>
        <td style="background-color:#312D2A">
          <p class="Footer">Contact Oracle</p>
          <p class="Footer"><a href="https://support.oracle.com" target="_blank">Contact Support</a> â¢ <a class="footer" href="javascript:sendFeedback()" target="_blank" title="Report an issue in the help or guides">Contact Documentation</a></p>
        </td>
      </tr>
    </tbody>
  </table>

</footer>
  <script type="text/javascript">//<![CDATA[

    gRootRelPath = ".."
    gCommonRootRelPath = ".."
    gTopicId = "31.9_44"
  
//]]></script>


  <script src="../template/scripts/topicpage.js"></script>
  <script src="../whxdata/layoutconfig.js"></script>
  <script src="../whxdata/brsdata.js"></script>

  
    
      
          

            
              
                <link rel="StyleSheet" href="../template/bluelagoon_-_redwood/custom.css" type="text/css">
                
                  


</body></html>