<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, user-scalable=yes">
  <meta name="version" content="2022.3.0">
  <link rel="StyleSheet" href="../template/styles/topic.min.css" type="text/css">
  <link rel="StyleSheet" data-skin="true" type="text/css" href="../template/bluelagoon_-_redwood/layout.css">
  <link rel="StyleSheet" data-skin="true" href="../template/bluelagoon_-_redwood/userstyles.css" type="text/css">
  
  <script data-relpath=".." src="../template/scripts/csh-redirect.js" type="text/javascript"></script>
<link rel="StyleSheet" href="../assets/css/redwood.css" type="text/css">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="date" content="12 18, 2001 1:18:44 PM">
    <meta name="template" content="../assets/masterpages/financials.htt">
    <meta name="topic-status" content="Ready for Review">
    <meta name="topic-priority" content="0">
    <meta name="topic-time-estimate" content="0">
    <meta name="topic-comment" content>
    <meta name="topic-id" content="How to Settle an Invoice">
    <meta http-equiv="Content-Language" content="en-US">
    <meta name="generator" content="Adobe RoboHelp 2022">
    <title>How to Add Bills/Invoices to a Consolidated Bill/Invoice</title>
    <link rel="StyleSheet" href="../assets/css/redwood.css" type="text/css">
    <script type="text/javascript" language="JavaScript1.2" src="../assets/js/feedback.js"></script>
    <meta name="rh-index-keywords" content="invoices,invoice settlement,how to:settle an invoice">
  <meta name="rh-version" content="2022.6.34"><meta name="description" content>
  
  
  
  
  <style>
  </style>
  <link rel="stylesheet" type="text/css" href="../assets/css/redwood.css">
<meta name="rh-version" content="2022.6.34">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.created" content="2025-07-16T17:04:08+00:00">
    <meta name="dcterms.title" content="Online Help for Transportation and Global Trade Management">
    <meta name="dcterms.category" content="cloud">
    <meta name="dcterms.isVersionOf" content="OTMOL">
    <meta name="dcterms.product" content="en/cloud/saas/transportation/25c">
    <meta name="dcterms.identifier" content="G28971-02">
    <meta name="dcterms.release" content="Release 25C">
  <script id="ssot-metadata" type="application/json">{"primary":{"category":{"short_name":"cloud","element_name":"Cloud","display_in_url":true},"suite":{"short_name":"saas","element_name":"Cloud Applications","display_in_url":true},"product_group":{"short_name":"supply-chain-management","element_name":"Supply Chain Management","display_in_url":false},"product":{"short_name":"transportation","element_name":"Transportation and Global Trade Management Cloud","display_in_url":true},"release":{"short_name":"25c","element_name":"Release 25C","display_in_url":true}}}</script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebPage","name":"How to Add Bills/Invoices to a Consolidated Bill/Invoice","description":"","datePublished":"2025-07-16 CST","dateModified":"2025-07-16 CST"}</script>
    <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>

<body class="rh-BODY-wrapper">
  <div class="cookie-widget-holder" id="cookie-status-widget-holder"></div>
  <div class="RH-LAYOUT-HEADER-skip-content-container" id="skip-to-content"></div>
  <header class="RH-LAYOUT-HEADER-container" role="banner">
    <div class="RH-LAYOUT-HEADER-logo-box  ">
      <div class="RH-LAYOUT-HEADER-logo" id="logo-holder"></div>
      <div class="RH-LAYOUT-HEADER-title" id="topic-title-holder"></div>
    </div>
    <div class="RH-LAYOUT-HEADERMENU-container" id="header-menu"></div>
    <div class="search-placeholder-class" id="search-with-help"></div>
  </header>
  <main role="main" class="RH-LAYOUT-BODY-container">
    <div class="RH-LAYOUT-SEARCHRESULTS" id="rh-searchresults"></div>
    <div class="RH-LAYOUT-LEFTPANEL-container" id="rh-leftpanel"></div>
    <div class="rh-layout-BODY-main" id="rh-layout-main">
      <div class="RH-LAYOUT-TOOLBAR-toolbar-box" id="rh-toolbar"></div>
      <div class="rh-layout-BODY-body">
        <div class="RH-LAYOUT-CENTERPANEL-container">
          <div class="rh-layout-selectdetails" id="rh-selectdetails"></div>
          <div class="RH-LAYOUT-CENTERPANEL-topic-box" id="rh-topic">
  <div>
    <p class="Header">Financials</p>
  </div>
  <div>
    <noscript> If you have any questions or comments about this topic or the online help, please <a href="mailto:otm-doc_us@oracle.com?subject=Documentation feedback:OTM Help">contact us.</a> </noscript>
    <h1><span data-field="title" data-format="default">How to Add Bills/Invoices to a Consolidated Bill/Invoice</span></h1>
    <div role="main">
      <p>This topic describes how toÂ configure constraintsÂ to add bills/invoices to a consolidated bill/invoice when you perform the <a href="../agent_manager/agent_actions_by_object/bill.htm#Add_to_Consolidated_Bill">Add to Consolidated Bill</a> or <a href="../agent_manager/agent_actions_by_object/invoice_agent_actions.htm#Add_to_Consolidated_Invoice">Add to Consolidated Invoice</a>Â action.</p>
      <p>Creating a Consolidated bill/invoice process consists of these basic steps:</p>
      <ul>
        <li>Setting up Constraint sets.</li>
        <li>Configuring Constraint Type in theÂ Constraint set.</li>
        <li>Creating an automation agent.</li>
        <li>Triggering the automation agent event to perform the agent action.</li>
      </ul>
      <h2>Setting up Constraint Sets and Constraint Type</h2>
      <p>To set up Constraint Sets, perform the following steps:</p>
      <ol>
        <li>Create a <a href="../gtm/powerdata/structure_constraint_set.htm#identification">Constraint Set</a> with the Constraint Set Type as <a href="../gtm/powerdata/structure_constraint_set.htm#Bill-Consolidation:">BILL - CONSOLIDATION</a>Â orÂ <a href="../gtm/powerdata/structure_constraint_set.htm#Invoice-Consolidation:">INVOICE - CONSOLIDATION</a>.</li>
        <li>On the Constraint tab, add Constraints. For the list of Constraints related to the bill, see the table <a href="../gtm/powerdata/structure_constraint_set.htm#bill-consolidation_constraint">bill-consolidation</a>; for the invoice, see the table <a href="../gtm/powerdata/structure_constraint_set.htm#invoice-consolidation_constraint">invoice-consolidation</a>.</li>
        <li>On the Constraint Details tab, enter the details of theÂ Constraints selected in step 2.</li>
      </ol>
      <h2>Create an Automation Agent</h2>
      <p>To create an automation agent, perform the following steps:</p>
      <ol>
        <li>In <span class="Bold"><a href="../agent_manager/new_workflow_agent.htm#agent">Automation Agent&gt; Agent Header</a>, </span>Â select the <span class="Bold">Agent Type</span> filed as BILL or INVOICE.</li>
        <li>InÂ <a href="../agent_manager/new_workflow_agent.htm#events">Agent Event</a>, define the events and event conditions that trigger the agent to process actions.</li>
        <li>On the <a href="../agent_manager/actions.htm">Action</a> tab, click <span class="Bold">Add Action</span> and select <span class="Bold">Add To Consolidated Invoice</span> (if Agent Type is selected as INVOICE) or <span class="Bold">Add To Consolidated Bill</span> (if Agent Type is selected as BILL) from the <span class="Bold">Action</span> drop-down list.</li>
        <li>Define the parameter <span class="Bold">Bill Consolidation Constraint Set</span> for the bill orÂ <span class="Bold">Invoice Consolidation Constraint Set</span>Â for the invoice.</li>
        <li>To add a bill/invoice to an existing consolidated bill/invoice with the same constraint set, select the checkbox <span class="Bold">Add to existing Consolidated Bill</span> orÂ <span class="Bold">Add to existing Consolidated Invoice.</span>
          <p class="Note"><span class="Bold">Note</span>: The application will create a new consolidated invoice if there is no existing invoice with the same constraint set. If the checkbox is not selected, the application will always create a new consolidated invoice.</p>
        </li>
      </ol>
      <h2>Triggering Agent Event</h2>
      <p>When you trigger the agent event, the agent action <a href="../agent_manager/agent_actions_by_object/bill.htm#Add_to_Consolidated_Bill">Add to Consolidated Bill</a> or <a href="../agent_manager/agent_actions_by_object/invoice_agent_actions.htm#Add_to_Consolidated_Invoice">Add to Consolidated Invoice</a>Â configured in the automation agent is executed and the bills/invoices are added to a consolidated bill/invoice that has the same constraint set.Â </p>
      <p>You can also trigger the agent event for the invoices/bills present in the saved query by raising the agent event from the <a href="../planning/process_manager/process_manager/misc/data_query.htm">data query</a>.</p>
      <h2>Example</h2>
      <p>This example demonstrates adding invoices to an existing consolidated invoice and creating a new consolidated invoice.</p>
      <p>For the example purpose, consider a standard invoice S1 with the following details:</p>
      <ul>
        <li>Service Provider ID: SP1</li>
        <li>Involved Parties:
          <table title="Involved Parties Table">
            <tbody>
              <tr>
                <th>Involved Party Qualifier ID</th>
                <th>Involved Party Contact</th>
              </tr>
              <tr>
                <td>Bill-To</td>
                <td>XYZ</td>
              </tr>
              <tr>
                <td>Shipper</td>
                <td>ABC</td>
              </tr>
            </tbody>
          </table>
        </li>
        <li>Reference Numbers
          <table title="Reference Number Table">
            <tbody>
              <tr>
                <th>Reference Number Qualifier ID</th>
                <th>Reference Number</th>
              </tr>
              <tr>
                <td>CN</td>
                <td>1234</td>
              </tr>
              <tr>
                <td>CO</td>
                <td>5678</td>
              </tr>
            </tbody>
          </table>
        </li>
        <li>Invoice Date: 2023-05-23</li>
      </ul>
      <p>The following is the constraint details configuration of the constraint sets in the agent action:</p>
      <ol>
        <li>INVOICE â SERVICE PROVIDER.</li>
        <li>INVOICE â INVOLVED PARTY with constraint details Bill-To and Shipper.</li>
        <li>INVOICE â REFNUMS with constraint details CN and CO.</li>
        <li>INVOICE â DATE with theÂ <span class="Bold">Date</span>Â field as Invoice Date (for the standard invoice), <span class="Bold">Target Date</span> field as Invoice Date (for the parent invoice). The application behavior based on the selection of the Matching Pattern field is described below.</li>
      </ol>
      <p>Along with the above configurations:</p>
      <ul>
        <li>if the <span class="Bold">Add to existing Consolidated InvoiceÂ </span>checkbox is selected and a valid parent invoice is present, and if you perform the agent actionÂ <a href="../agent_manager/agent_actions_by_object/invoice_agent_actions.htm#Add_to_Consolidated_Invoice">Add to Consolidated Invoice</a>Â when,
          <ul>
            <li>theÂ <span class="Bold">Matching Pattern</span>Â is Weekly with <span class="Bold">First Day of Week</span> as Wednesday, the applicationÂ will find the valid parent invoice with the following and add the standard invoice S1 to the parent invoice.
              <ul>
                <li>the same constraint set,</li>
                <li>service provider as SP1,</li>
                <li>involved parties Bill-To as XYZ, Shipper as ABC,</li>
                <li>refnums CN as 1234, CO as 5678</li>
                <li>invoice Date as May 19, 2023 (which is falling in the week of May 17, 2023 to May 23,Â  2023).</li>
              </ul>
            </li>
            <li>theÂ <span class="Bold">Matching Pattern</span>Â is Monthly, the applicationÂ will find the valid parent invoice with the following and add the standard invoice S1 to the parent invoice.
              <ul>
                <li>the same constraint set,</li>
                <li>service provider as SP1,</li>
                <li>involved parties Bill-To as XYZ, Shipper as ABC,</li>
                <li>refnums CN as 1234, CO as 5678, and</li>
                <li>invoice Date as May 12, 2023 (which is falling in the same month May 01 to May 31, 2023).</li>
              </ul>
            </li>
            <li>theÂ <span class="Bold">Matching Pattern</span>Â is Daily, the applicationÂ will find the valid parent invoice with the following and add the standard invoice S1 to the parent invoice.
              <ul>
                <li>the same constraint set,</li>
                <li>service provider as SP1,</li>
                <li>involved parties Bill-To as XYZ, Shipper as ABC,</li>
                <li>refnums CN as 1234, CO as 5678, and</li>
                <li>invoice Date as May 23, 2023 (which is the same as the S1 standard invoice date).</li>
              </ul>
            </li>
          </ul>
        </li>
        <li>if the <span class="Bold">Add to existing Consolidated InvoiceÂ </span>checkbox is selected but a valid parent invoice is not present or if the <span class="Bold">Add to existing Consolidated InvoiceÂ </span>checkbox is not selected, and if you perform the agent actionÂ <a href="../agent_manager/agent_actions_by_object/invoice_agent_actions.htm#Add_to_Consolidated_Invoice">Add to Consolidated Invoice</a>Â when,
          <ul>
            <li>theÂ <span class="Bold">Matching Pattern</span>Â is Weekly with <span class="Bold">First Day of Week</span> as Wednesday, the applicationÂ will create a parent invoice with the following and add the standard invoice S1 to the parent invoice.
              <ul>
                <li>the same constraint set,</li>
                <li>service provider as SP1,</li>
                <li>involved parties Bill-To as XYZ, Shipper as ABC,</li>
                <li>refnums CN as 1234, CO as 5678, and</li>
                <li>invoice Date as May 17, 2023.</li>
              </ul>
            </li>
            <li>theÂ <span class="Bold">Matching Pattern</span>Â is Monthly, the applicationÂ will create a parent invoice with the following and add the standard invoice S1 to the parent invoice.
              <ul>
                <li>the same constraint set,</li>
                <li>service provider as SP1,</li>
                <li>involved parties Bill-To as XYZ, Shipper as ABC,</li>
                <li>refnums CN as 1234, CO as 5678, and</li>
                <li>invoice Date as May 01, 2023.</li>
              </ul>
            </li>
            <li>theÂ <span class="Bold">Matching Pattern</span>Â is Daily, the applicationÂ will create a parent invoice with the following and add the standard invoice S1 to the parent invoice.
              <ul>
                <li>the same constraint set,</li>
                <li>service provider as SP1,</li>
                <li>involved parties Bill-To as XYZ, Shipper as ABC,</li>
                <li>refnums CN as 1234, CO as 5678, and</li>
                <li>invoice Date as May 23, 2023.</li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
      <p class="Note"><span class="Bold">Notes:</span>
        <br>
        1. If the involved party or reference number qualifiers defined in the constraint details don&#39;t present on the standard invoice, the application will throw an error.
        <br>
        <br>
        2. The INVOICE â SERVICE PROVIDER is a mandatory constraint. If the constraint set doesn&#39;t have the INVOICE â SERVICE PROVIDER defined, the application will throw an exception.
        <br>
        <br>
        3. If the involved party and reference number constraint are not configured on the constraint set, the application will notÂ copy or matchÂ the same to the parent invoice.
        <br>
        <br>
        4. If the INVOICE - DATE is not configured, the application will create the parent invoice with the invoice date as the system Date i.e. the date on which it is created. </p>
    </div>
    <h2>Related Topics</h2>
    <p class="LinkList"><a href="../gtm/powerdata/structure_constraint_set.htm">Constraint Sets</a></p>
    <p class="LinkList"><a href="../agent_manager/agent_actions_by_object/invoice_agent_actions.htm#Add_to_Consolidated_Invoice">Invoice Agent Actions</a></p>
    <p class="LinkList"><a href="../agent_manager/agent_actions_by_object/bill.htm#Add_to_Consolidated_Bill">Bill Agent Actions</a></p>
    <script type="text/javascript" language="JavaScript1.2"> //<![CDATA[
    if (typeof(InitEffects) != 'function') InitEffects = new Function();
    InitEffects('P1');
    //]]></script>
  
</div>
  <div>
    <hr align="center">
    <p class="Footer"><img align="right" alt="Was this page helpful? Click to send feedback." height="49" src="../assets/images/feedback.png" style="font-family: &quot;Oracle Sans&quot;, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: medium;" usemap="#imagemap" width="322"><map data-img-height="49" data-img-width="322" name="imagemap"><area alt="How can we improve this page?" coords="222, 1, 265, 43" href="javascript:sendDownFeedback()" shape="rect" title="How can we improve this page?"><area alt="What did you like about this page?" coords="273, 4, 317, 45" href="javascript:sendUpFeedback()" shape="rect" title="What did you like about this page?"><area alt="Comments" coords="41, 3, 218, 45" href="javascript:sendFeedback()" shape="rect" title="Comments"></map></p>
  </div>

</div>
          <div class="RH-LAYOUT-BRS-container" id="rh-brs"></div>
        </div>
        <div class="RH-LAYOUT-RIGHTPANEL-container" id="rh-rightpanel"></div>
      </div>
    </div>
  </main>
  <footer role="contentinfo" class="RH-LAYOUT-FOOTER-container" id="rh-footer">
  <table border="0" cellpadding="1" cellspacing="1" class="table-unstyled">
    <tbody>
      <tr>
        <td style="background-color:#312D2A">
          <p class="Footer">Other Documentation Resources</p>
          <p class="Footer"><a href="https://docs.oracle.com/pls/topic/lookup?ctx=otm-latest&amp;id=otm-gs" target="_blank" title="Transportation and Global Trade Management Library">Help Center &amp; Guides</a>Â â¢ <a href="https://support.oracle.com/support/?documentId=KB153929" target="_blank" title="My Oracle Support">Extra Documents</a>Â â¢Â <a href="https://support.oracle.com/support/?documentId=KA171" target="_blank" title="Information Center">Information Center</a></p>
        </td>
        <td style="background-color:#312D2A">
          <p class="Footer"><a href="../general/cpyr.htm">CopyrightÂ Â© 2001, <span data-field="date" data-format="YYYY">2025</span>, Oracle and/or its affiliates.</a></p>
        </td>
        <td style="background-color:#312D2A">
          <p class="Footer">Contact Oracle</p>
          <p class="Footer"><a href="https://support.oracle.com" target="_blank">Contact Support</a> â¢ <a class="footer" href="javascript:sendFeedback()" target="_blank" title="Report an issue in the help or guides">Contact Documentation</a></p>
        </td>
      </tr>
    </tbody>
  </table>

</footer>
  <script type="text/javascript">//<![CDATA[

    gRootRelPath = ".."
    gCommonRootRelPath = ".."
    gTopicId = "1"
  
//]]></script>


  <script src="../template/scripts/topicpage.js"></script>
  <script src="../whxdata/layoutconfig.js"></script>
  <script src="../whxdata/brsdata.js"></script>

  
    
      
          

            
              
                <link rel="StyleSheet" href="../template/bluelagoon_-_redwood/custom.css" type="text/css">
                
                  


</body></html>