<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, user-scalable=yes">
  <meta name="version" content="2022.3.0">
  <link rel="StyleSheet" href="../../../template/styles/topic.min.css" type="text/css">
  <link rel="StyleSheet" data-skin="true" type="text/css" href="../../../template/bluelagoon_-_redwood/layout.css">
  <link rel="StyleSheet" data-skin="true" href="../../../template/bluelagoon_-_redwood/userstyles.css" type="text/css">
  
  <script data-relpath="../../.." src="../../../template/scripts/csh-redirect.js" type="text/javascript"></script>
<link rel="StyleSheet" href="../../../assets/css/redwood.css" type="text/css">
    <meta name="template" content="../../../assets/masterpages/financials.htt">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="date" content="12 18, 2001 1:39:21 PM">
    <meta name="topic-status" content="Complete">
    <meta name="topic-priority" content="0">
    <meta name="topic-time-estimate" content="0">
    <meta name="topic-comment" content>
    <meta name="topic-id" content="settlement\25_payment_manager\26_payment_actions\approve_invoice.htm">
    <meta http-equiv="Content-Language" content="en-US">
    <meta name="generator" content="Adobe RoboHelp 2022">
    <title>Approve Invoice</title>
    <link rel="StyleSheet" href="../../../assets/css/redwood.css" type="text/css">
    <script type="text/javascript" language="JavaScript1.2" src="../../../assets/js/feedback.js"></script>
    <meta name="rh-index-keywords" content="approve invoice">
  <meta name="rh-version" content="2022.6.34"><meta name="description" content>
  
  
  
  
  <style>
  </style>
  <link rel="stylesheet" type="text/css" href="../../../assets/css/redwood.css">
<meta name="rh-version" content="2022.6.34">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.created" content="2025-07-16T17:04:16+00:00">
    <meta name="dcterms.title" content="Online Help for Transportation and Global Trade Management">
    <meta name="dcterms.category" content="cloud">
    <meta name="dcterms.isVersionOf" content="OTMOL">
    <meta name="dcterms.product" content="en/cloud/saas/transportation/25c">
    <meta name="dcterms.identifier" content="G28971-02">
    <meta name="dcterms.release" content="Release 25C">
  <script id="ssot-metadata" type="application/json">{"primary":{"category":{"short_name":"cloud","element_name":"Cloud","display_in_url":true},"suite":{"short_name":"saas","element_name":"Cloud Applications","display_in_url":true},"product_group":{"short_name":"supply-chain-management","element_name":"Supply Chain Management","display_in_url":false},"product":{"short_name":"transportation","element_name":"Transportation and Global Trade Management Cloud","display_in_url":true},"release":{"short_name":"25c","element_name":"Release 25C","display_in_url":true}}}</script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebPage","name":"Approve Invoice","description":"","datePublished":"2025-07-16 CST","dateModified":"2025-07-16 CST"}</script>
    <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>

<body class="rh-BODY-wrapper">
  <div class="cookie-widget-holder" id="cookie-status-widget-holder"></div>
  <div class="RH-LAYOUT-HEADER-skip-content-container" id="skip-to-content"></div>
  <header class="RH-LAYOUT-HEADER-container" role="banner">
    <div class="RH-LAYOUT-HEADER-logo-box  ">
      <div class="RH-LAYOUT-HEADER-logo" id="logo-holder"></div>
      <div class="RH-LAYOUT-HEADER-title" id="topic-title-holder"></div>
    </div>
    <div class="RH-LAYOUT-HEADERMENU-container" id="header-menu"></div>
    <div class="search-placeholder-class" id="search-with-help"></div>
  </header>
  <main role="main" class="RH-LAYOUT-BODY-container">
    <div class="RH-LAYOUT-SEARCHRESULTS" id="rh-searchresults"></div>
    <div class="RH-LAYOUT-LEFTPANEL-container" id="rh-leftpanel"></div>
    <div class="rh-layout-BODY-main" id="rh-layout-main">
      <div class="RH-LAYOUT-TOOLBAR-toolbar-box" id="rh-toolbar"></div>
      <div class="rh-layout-BODY-body">
        <div class="RH-LAYOUT-CENTERPANEL-container">
          <div class="rh-layout-selectdetails" id="rh-selectdetails"></div>
          <div class="RH-LAYOUT-CENTERPANEL-topic-box" id="rh-topic">
  <div>
    <p class="Header">Financials</p>
  </div>
  <div>
    <noscript> If you have any questions or comments about this topic or the online help, please <a href="mailto:otm-doc_us@oracle.com?subject=Documentation feedback:OTM Help">contact us.</a> </noscript>
    <h1><span data-field="title" data-format="default">Approve Invoice</span></h1>
    <div role="main">
      <p>This action is accessed via <span class="Bold">Financials &gt; Payment Invoice Management &gt; Payment Invoice &gt; Actions &gt; Financials &gt; Invoice &gt; Approve Invoice</span>.</p>
      <p>The Approve Invoice action approves an invoice that is not yet approved or approves an adjustment to an invoice that has already been approved. The approval and adjustment can be done by line or by total depending on the <a href="../../../properties/glog/invoice.property.htm">property setting</a> for the property: glog.invoice.approveByLine.</p>
      <p>You can approve multiple invoices at a time. However, you wonât be able to approve multiple invoices in case the property glog.invoice.approveByLine is set to true. Attempting to approve multiple invoices in such a case will result in an error message.</p>
      <p class="Note"><span class="Bold"><span class="Bold"></span>Note:</span> Child invoices cannot be individually approved/unapproved or adjusted.</p>
      <p class="Note"><span class="Bold">Note</span>:Â While approving an invoice, VAT amounts are calculated on the voucher based on the planning parameter <a href="../../../planning/power_data/planning/list_of_planning_parameters.htm#calculate_vat_on_voucher">CALCULATE VAT ON VOUCHER</a>. The application calculates VAT amounts at the VAT code level (Voucher VAT Analysis) and voucher invoice line item level (Voucher Invoice Line VAT).</p>
      <p class="Note"><span class="Bold">Note</span>:Â While approving an invoice, the VAT calculation on the voucher uses either the Provincial VAT Engine or the Euro VAT Engine based on the planning parameterÂ <a href="../../../planning/power_data/planning/list_of_planning_parameters.htm#voucher_vat_tax_type">VOUCHER VAT TAX TYPE</a>.</p>
      <p class="Note"><span class="Bold">Note</span>: If you cannot approve or adjust an invoice, it may be because the payment amount exceeds the approval limits assigned to you, or the <a href="../../auto_approve_rule_mgr/new_auto_approve_rule.htm">invoice approve rule</a> has not been assigned to an <a href="../../auto_approve_rule_mgr/new_autoapprove_profile.htm">invoice approve rule profile</a> or the profile has not been assigned to a <a href="../../../user_management/manage_user.htm">user</a>. See <a href="../../match_rule_manager/payment_rule_mgr_ovu.htm">Payment Rule Manager Overview</a>.</p>
      <p class="Note"><span class="Bold">Note</span>: During invoice approval for a shipment group, secondary charge shipments of that shipment group will also be considered for calculating the total shipment group cost.</p>
      <p class="Note"><span class="Bold">Note: </span>The button <span class="Bold"><span class="Bold">New Line Item</span></span> will be displayed/hidden based on the value of the propertyÂ <a href="../../../properties/glog/invoice.property.htm#newlineitem">glog.invoice.manualApprove.disableAddNewInvoiceLineButton</a>. If the value is true, the button will not be displayed.</p>
      <h2>Approve/Adjust Invoice(s)</h2>
      <p>The Approve Invoice action enables you to approve multiple payment invoices, overriding any auto-approve rules that may apply. Only invoices that have been matched to buy shipments can be approved for payment.</p>
      <p>When you manually approve invoices, their status changes to APPROVAL_Approved_Manual, and payment vouchers are created, but not issued. Vouchers are created in the same domain as the invoices.</p>
      <p>When you approve a parent consolidated invoice, all of its child invoices are approved, and a single voucher is created for the parent invoice.</p>
      <p>Approved invoices can be edited or deleted. However, before the shipping costs of approved invoices can be allocated, their payment vouchers must be issued by using the Send Voucher Interface action in the Payment Invoice Manager.</p>
      <p class="Note"><span class="Bold">Note</span>: In case of split invoices, OTM does not support the invoice approval process.</p>
      <p class="Note"><span class="Bold">Note: </span>A consolidated invoice of split invoices may not pass the approval rule. While approving the consolidated invoice each child invoice is passed through the approval, so you must set the tolerance high so that it passes the approval.</p>
      <p class="Note"><span class="Bold">Note</span>: A maximum of 25 invoices can be approved at a time.</p>
      <p>Adjusting invoices enables you to change the payment amounts. For an invoice to have its payment amount adjusted, it must meet these conditions:</p>
      <ul>
        <li>The invoice has been matched to a buy shipment.</li>
        <li>The invoice has been approved for payment.</li>
        <li>A payment voucher has been issued for the invoice.</li>
      </ul>
      <p>When you adjust an invoice, either by reducing or increasing the net amount due, an additional voucher is created for the invoice. For example, if an invoice is approved and issued for $1000.00, and then it is discovered that the actual charges are $900.00, you would adjust the payment by a negative $100.00. In that case, two vouchers would be associated with the invoice, one for $1000.00 and one for -$100.00.</p>
      <p class="Note"><span class="Bold">Note</span>: Adjusting an invoice does not apply to child invoices.</p>
      <p>The Approve Invoice window displays the following fields:</p>
      <ul>
        <li><span class="Bold">Invoice ID</span>: Displays the ID of the selected invoice.</li>
        <li><span class="Bold">Consolidated</span>: Indicator to show if the selected invoice is consolidated.</li>
        <li><span class="Bold">Invoice Amount</span>: Displays the net amount due for the invoice.</li>
        <li><span class="Bold">Previous Approved Invoice Amount</span>: Displays the total amount that has been approved so far for a particular invoice. This is calculated by summing the amounts to be paid for all the vouchers that have been created previously for that invoice.</li>
        <li><span class="Bold">Shipment ID</span>: Displays the shipment ID of the matched shipment for an invoice. This field will be blank if no matched shipment is found or if the selected invoice is consolidated.</li>
        <li><span class="Bold">Shipment Amount</span>: Displays the total actual cost of the matched shipment. In case the selected invoice is consolidated, this value will be the sum of the actual costs of all the matched shipments.</li>
        <li><span class="Bold">Previous Approved Shipment Amount</span>: Displays the total amount that has been approved so far for a shipment. This is calculated by summing the amounts to be paid for all the vouchers for all the invoices present for that shipment.</li>
        <li><span class="Bold">Shipment Group ID</span>: Displays the shipment group ID of the matched shipment group for an invoice.</li>
        <li><span class="Bold">Shipment Group Amount</span>: Displays the total actual cost of all the shipments (including secondary charge) of the shipment group.</li>
        <li><span class="Bold">Previous Approved Shipment Group Amount</span>: Displays the total amount that has been approved so far for the shipment group.</li>
        <li><span class="Bold">Amount to Pay</span>: Displays the amount to be paid against an invoice which is being approved/adjusted. this is a mandatory input field.</li>
        <li><span class="Bold">Adjustment Reason</span>: This field will be populated on the voucher that gets created.</li>
        <li><span class="Bold">Note</span>: This field will specify any note when approving/adjusting an invoice.</li>
      </ul>
      <h3><a id="Approve_the_Invoice_Manually"></a>Approve/Adjust the Invoice Manually:</h3>
      <ol>
        <li>Select the <span class="Bold">Approve Invoice</span> action. A pop-up window opens based on the following:
          <br>
          <br>
          If the property glog.invoice.approveByLine is set to true, then approval details by line with the line approval tolerance checked will be displayed. For more details refer to the section of Approving an Invoice by Line below. If there are any items on the invoice that are out-of-tolerance, a red indicator displays beside the line item in case of Approve Invoice by Line.
          <br>
          <br>
          If the property glog.invoice.approveByLine is set to false, then the approval details by total will be displayed. For more details refer to the section of Approving an Invoice by Total below. </li>
        <li>Enter the amount to be paid against an invoice which is being approved/adjusted in the <span class="Bold">Amount to Pay</span> field.</li>
        <li>To use a different currency, select a currency from the drop-down list. To convert the payment amount to another currency, update your currency <a href="../../../user_preferences/setting_user_preferences.htm">user preference</a>.</li>
        <li>If needed, enter an <a href="../../../planning/power_data/25_payment/adjustment_reasons.htm">Adjustment Reason IDs</a> in the <span class="Bold">Adjustment Reason</span> field. An adjustment reason is a standard or user-defined rationale (for example, a pricing error) for modifying data on an invoice.</li>
        <li>If you want, enter a note in the <span class="Bold">Note</span> field.</li>
        <li>Click <span class="Bold">Finish</span>.
          <p class="Note"><span class="Bold">Note</span>: To unapprove the payment of an invoice for which a payment voucher has not been issued, use the <a href="unapprove_payment.htm">Unapprove Invoice</a> action.</p>
        </li>
      </ol>
      <p>Vouchers will be created for invoices for which the approval/adjustment was successful. For the invoices where approval failed, the error will be displayed when you click <span class="Bold">View</span> in the corresponding Error column.</p>
      <h2><a id="Approve_an_Invoice_by_Line"></a>Approve an Invoice by Line</h2>
      <p>If the property glog.invoice.approveByLine is set to true (the default), the invoice approval is by line.</p>
      <p>Approval by line assumes that the line approval rule is applied to each line item associated with a shipment cost individually. OTM tries to group the invoice lines based on the cost type. If two invoice lines have the same cost type, they can optionally be grouped by the following additional fields:</p>
      <ul>
        <li>Accessorial Code</li>
        <li>Payment Method</li>
        <li>General Leger Code</li>
      </ul>
      <p>Consideration of these fields while grouping will be based on the following properties being set to true or false. If the property is set to true, OTM will consider grouping the invoice lines based on the corresponding field.</p>
      <ul>
        <li><a href="../../../properties/glog/invoice.property.htm#approveByLine.matchCosts.accessorialCodeGid">glog.invoice.approveByLine.matchCosts.accessorialCodeGid</a></li>
        <li><a href="../../../properties/glog/invoice.property.htm#approveByLine.matchCosts.paymentMethodCodeGid">glog.invoice.approveByLine.matchCosts.paymentMethodCodeGid</a></li>
        <li><a href="../../../properties/glog/invoice.property.htm#approveByLine.matchCosts.generalLedgerGid">glog.invoice.approveByLine.matchCosts.generalLedgerGid</a></li>
      </ul>
      <p>As mentioned above, the shipment costs are also grouped the same way as invoice lines.</p>
      <p>For example, consider shipment cost details and invoice line details given in the following table:</p>
      <table title="shipment cost details and invoice line details Table">
        <tbody>
          <tr>
            <th>
              <p>Shipment Cost Details</p>
            </th>
            <th>
              <p>Invoice Line Details</p>
            </th>
          </tr>
          <tr>
            <td>
              <p>Cost -100</p>
              <p>Cost Type - Base</p>
              <p>Accessorial Code - N/A</p>
            </td>
            <td>
              <p>Cost -100</p>
              <p>Cost Type - Base</p>
              <p>Accessorial Code - N/A</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>Cost -20</p>
              <p>Cost Type - Accessorial</p>
              <p>Accessorial Code - FSC</p>
            </td>
            <td>
              <p>Cost -20</p>
              <p>Cost Type - Accessorial</p>
              <p>Accessorial Code - FSC</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>Cost -20</p>
              <p>Cost Type - Accessorial</p>
              <p>Accessorial Code - DOC</p>
            </td>
            <td>
              <p>Cost -20</p>
              <p>Cost Type - Accessorial</p>
              <p>Accessorial Code - DOC</p>
            </td>
          </tr>
        </tbody>
      </table>
      <p></p>
      <p>OTM will try to match invoice lines to shipment costs from the same group. For each group, OTM will match invoice lines to the shipment costs. So, it is expected that each group will have one invoice line and one shipment cost.</p>
      <p>TheÂ <a href="../../../user_management/optional_features.htm">optional feature</a> &quot;ENABLE IMPROVED INVOICE APPROVAL LOGIC&quot; is enabled by default and when it is enabled, the approval of invoice by line works with the new enhanced logic as described below.</p>
      <p>With the new enhanced logic, you will be able to apply tolerance checks either after matching each invoice line item with a shipment cost or after matching aggregated invoice line items with aggregated shipment costs.</p>
      <p>Whether line items and shipment costs are aggregated or not depends on the selection of the <span class="Bold">Aggregate</span> checkbox on the <a href="../../line_approval/line_approval_tolerance_rule.htm">Line Approval Tolerance Rule.</a>Â Using the Line Aggregation Constraint Set, you can specify the rules for grouping invoice line items.Â </p>
      <p>If the <span class="Bold">Aggregate</span> checkbox is selected and the Line Aggregation Constraint Set is specified, the application will compare the aggregated cost of the invoice line items grouped with the line aggregation constraint set with that of the aggregated cost of an associated shipment costs grouped with the line aggregation constraint set.Â Otherwise, each invoice line item in a group will be associated with a shipment cost in the corresponding shipment cost group.
        <br>
        <br>
        If the <span class="Bold">Aggregate</span> checkbox is not selected and the Line Aggregation Constraint Set has not been specified, the grouping of invoice lines and shipment costs will be performed based on the cost type and the below property values being true or false.Â By default, all the property values are set to true. </p>
      <ul>
        <li><a href="../../../properties/glog/invoice.property.htm#approveByLine.matchCosts.accessorialCodeGid">glog.invoice.approveByLine.matchCosts.accessorialCodeGid</a></li>
        <li><a href="../../../properties/glog/invoice.property.htm#approveByLine.matchCosts.paymentMethodCodeGid">glog.invoice.approveByLine.matchCosts.paymentMethodCodeGid</a></li>
        <li><a href="../../../properties/glog/invoice.property.htm#approveByLine.matchCosts.generalLedgerGid">glog.invoice.approveByLine.matchCosts.generalLedgerGid</a></li>
      </ul>
      <p>If the <span class="Bold">Aggregate</span> checkbox on the <a href="../../line_approval/line_approval_tolerance_rule.htm">Line Approval Tolerance Rule</a>Â is selected, thenÂ OTM tries to match one or multiple invoice lines to one or multiple shipment costs within the same group.Â  OTM will aggregate matched invoice lines and shipment costs based on the Line Aggregation Constraint Set to check tolerance.</p>
      <p>As per the below example, two groups will be formed for bothÂ invoice lines and shipment costs:</p>
      <ol>
        <li>One group for the Cost Type Base.</li>
        <li>One group for the Cost Type Accessorial.</li>
      </ol>
      <table title="Details Table">
        <tbody>
          <tr>
            <th>
              <p>Shipment Cost Details</p>
            </th>
            <th>
              <p>Invoice Line Details</p>
            </th>
            <th>
              <p>Match Status</p>
            </th>
          </tr>
          <tr>
            <td>
              <p>Cost -100</p>
              <p>Cost Type - Base</p>
              <p>Accessorial Code - N/A</p>
            </td>
            <td>
              <p>Cost -100</p>
              <p>Cost Type - Base</p>
              <p>Accessorial Code - N/A</p>
            </td>
            <td colspan="1" rowspan="2">
              <p>Two invoice lines (Base) matched to one Shipment Cost (Base)</p>
            </td>
          </tr>
          <tr>
            <td>
              <p></p>
            </td>
            <td>
              <p>Cost -100</p>
              <p>Cost Type - Base</p>
              <p>Accessorial Code - N/A</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>Cost -20</p>
              <p>Cost Type - Accessorial</p>
              <p>Accessorial Code - FSC</p>
            </td>
            <td>
              <p>Cost -20</p>
              <p>Cost Type - Accessorial</p>
              <p>Accessorial Code - FSC</p>
            </td>
            <td>
              <p>One invoice line (Accessorial) matched to one Shipment Cost (Accessorial)</p>
            </td>
          </tr>
        </tbody>
      </table>
      <p>On successful approval of the invoice, matched shipment cost details will be stored. Additionally, the Preprocess Status field on the invoice line item will be updated.</p>
      <p>Let&#39;s look at the following scenarios where OTM will not be able to approve the invoice accurately:</p>
      <ul>
        <li>When you perform <a href="../../../planning/shipment_manager/adjust_shipment_costs.htm">Adjust Shipment Costs</a> and <a href="../../../planning/shipment_manager/invoice_adjusted_costs.htm">Invoice Adjustment Cost</a> actions, you need to make sure that the adjusted shipment costs and the adjusted invoice lines can be matched. OTM will not be able to approve the invoice accurately if grouping of shipment costs or invoice lines are having more than one item in them. In this case, OTM will not be able to match shipment costs to invoice lines.</li>
        <li>If a shipment has two invoices and the invoice lines cannot be matched to the shipment costs i.e. each of the invoice lines does not correspond to one shipment cost then OTM will not be able to approve the invoice accurately.</li>
        <li>When you perform the Invoice Adjustment Cost action, a new invoice is created if there is an existing invoice for the shipment and is already approved. Then, the adjusted cost in the shipment may not match to the invoice line of the new invoice if grouping of the shipment costs have more than one cost in the group. So, OTM will not be able to approve the invoice accurately. Before you perform this action, it is advised that the invoice corresponding to the shipment must not be approved. Then, the adjusted cost matches to the same shipment cost and OTM approves the invoice.</li>
      </ul>
      <p>When you approve an invoice manually by line, OTM determines the amount to pay to be displayed for each of the invoice lines. Letâs look at the following scenarios:</p>
      <p>The amount to pay depends on whether you are claiming or paying an amount through the invoice. When you match a shipment cost to an invoice line, OTM considers the lesser amount. If this amount is positive it implies that you are paying and a negative amount implies that you are claiming.</p>
      <p>When paying, you pay the least possible. OTM determines how much of the shipment cost has been paid and the remaining balance to be paid from the shipment cost. Also, OTM determines how much of the invoice line amount has been paid and the remaining balance left in the invoice line amount. Out of the shipment cost and the invoice line balance amount, OTM considers the lowest between these two amounts and displays as amount to pay. If any of the amount is overpaid, which means that the shipment cost or the invoice line balance amount is negative, then OTM displays zero.</p>
      <p>When claiming, you would try to claim as much as you can. OTM determines how much of the shipment cost and invoice line item amount is left to be claimed. OTM considers the highest amount which can be claimed. If any of these amounts are over claimed, then OTM displays the amount to pay as zero.</p>
      <p>Approve Invoice by Line window displays the following fields:</p>
      <ul>
        <li><span class="Bold"><a id="Out_of_tolerance"></a>Out of tolerance</span>: Displays a red indicator beside the line item in case invoice line item is out of tolerance.</li>
        <li><span class="Bold">Line Item Sequence</span>: Displays sequence number of each invoice line item.
          <br>
          This field is not available whenÂ theÂ <a href="../../../user_management/optional_features.htm">optional feature</a> &quot;ENABLE IMPROVED INVOICE APPROVAL LOGIC&quot; is enabled as the line items are aggregatedÂ based on the Line Aggregation Constraint Set.Â By default, the optional feature is enabled.</li>
        <li><span class="Bold">Description</span>: Displays description of each invoice line item.</li>
        <li><span class="Bold">Accessorial Code</span>: Displays accessorial code of the line item if any, in case invoice line item is of cost type Accessorial.</li>
        <li><span class="Bold">Shipment Amount</span>: Displays shipment cost matched to the invoice line item. If there is no matching shipment cost, then no value is displayed.
          <br>
          WhenÂ theÂ <a href="../../../user_management/optional_features.htm">optional feature</a> &quot;ENABLE IMPROVED INVOICE APPROVAL LOGIC&quot; is enabled, this field may display the aggregated shipment cost matched to one or multiple invoice line items based on the line aggregation constraint set. If there are no matching shipment costs, then no value is displayed.Â By default, the optional feature is enabled.</li>
        <li><span class="Bold">Invoice Amount</span>: Displays payment amount of the invoice line item.
          <br>
          WhenÂ theÂ <a href="../../../user_management/optional_features.htm">optional feature</a> &quot;ENABLE IMPROVED INVOICE APPROVAL LOGIC&quot; is enabled, this field may display the aggregatedÂ payment amount of the invoice line items based on the line aggregation constraint set.Â By default, the optional feature is enabled.</li>
        <li><span class="Bold">Previous Approved Amount</span>: Displays previous approved amount, if there is any, corresponding to the invoice line item.
          <br>
          WhenÂ theÂ <a href="../../../user_management/optional_features.htm">optional feature</a> &quot;ENABLE IMPROVED INVOICE APPROVAL LOGIC&quot; is enabled, this field may display the aggregated previous approved amount based on the line aggregation constraint set, if there is any, corresponding to the invoice line items.Â By default, the optional feature is enabled.</li>
        <li><span class="Bold"><a id="Amount_To_Pay"></a>Amount To Pay</span>: By default, this field displays the invoice line item cost. You can override this value.</li>
        <li><span class="Bold">Adjustment Reason</span>: Adjustment reasons specify why adjustments are made to the amount due on invoices. They are entered at the time of the adjustment.</li>
      </ul>
      <p>If the property <a id="glog.invoicemanualapprove.outoftolrancerelated_fields"></a>glog.invoice.manualApprove.outOfToleranceRelatedFields.display is true, the following fields will be displayed in the manual approval screen:</p>
      <ul>
        <li><span class="Bold">Deviation Amount</span>: Displays the difference between invoice amount (including Previous Approved Amount if any) and the shipment amount for each line.</li>
        <li><span class="Bold">Allowable Amount</span>: Shows the allowable line level tolerance amount for each line based on the cost group.</li>
        <li><span class="Bold">Out-of-tolerance Amount</span>: Shows the difference between the Deviation Amount and the Allowable Amount.</li>
      </ul>
      <p>The following scenarios can cause costs on an invoice and shipment to be mismatched:</p>
      <ul>
        <li>Invoice line items (costs) for which there are no matching shipment costs (unmatched invoice line items)</li>
        <li>Shipment costs for which there are no matching invoice line items (costs) (unmatched shipment costs).</li>
      </ul>
      <p><a id="unmatched_lineitem_and_shipment_cost"></a>The following <a href="../../../properties/glog/invoice.property.htm">invoice properties</a> are used for configuring tolerance checks of the above unmatched invoice line items and unmatched shipment costs:</p>
      <ul>
        <li><a href="../../../properties/glog/invoice.property.htm#glog.invoice.approveByLine.unMatchedInvoiceLineItems.checkTolerance">glog.invoice.approveByLine.unMatchedInvoiceLineItems.checkTolerance</a></li>
        <li><a href="../../../properties/glog/invoice.property.htm#glog.invoice.approveByLine.unMatchedShipmentCosts.checkTolerance">glog.invoice.approveByLine.unMatchedShipmentCosts.checkTolerance</a></li>
        <li>
          <p class="Note"><span class="Bold">Note</span>: Manual approval of a balance due invoice (additional invoice received against a shipment) does not show the unmatched shipment costs if they have a corresponding previously approved line for the invoices matched and approved against this shipment, if the property set to: glog.invoice.approveByLine.unMatchedShipmentCosts.checkTolerance = false. If the property is set to true, shipment cost lines which have been previously matched and approved will display in the UNMATCHED SHIPMENT COSTS section and the tolerance checks will take the previous approved amount into consideration with corresponding invoice amount as zero.</p>
        </li>
      </ul>
      <h3>Approve an Invoice by Line:</h3>
      <h4>Line Tolerance Approval Rule Set Up</h4>
      <p>By default, the <a href="../../../user_management/optional_features.htm">optional feature</a> &quot;ENABLE IMPROVED INVOICE APPROVAL LOGIC&quot; is enabled and when itÂ is enabled, follow the below steps:</p>
      <p>For approving an invoice by line without aggregation, follow the below steps:</p>
      <ol>
        <li>Clear the <span class="Bold">Aggregate</span> checkbox (if selected) on the <a href="../../line_approval/line_approval_tolerance_rule.htm">Line Approval Tolerance Rule</a> page.</li>
        <li>Define the Line Aggregation Constraint Set either on the rule or using the propertyÂ <a href="../../../properties/glog/invoice.property.htm#glog.invoice.approveByLine.newApprovalLogic.defaultLineAggregationConstraintSet=">glog.invoice.approveByLine.newApprovalLogic.defaultLineAggregationConstraintSet</a>.Â If the Line Aggregation Constraint Set is not defined, then the grouping of invoice lines and shipment costs will be performed based on the cost type and the property setting of the glog.invoice.approveByLine.matchCostsÂ properties as described above.</li>
      </ol>
      <p>For approving an invoice by line based on aggregation, follow the below steps:</p>
      <ol>
        <li>Select the Aggregate checkbox.</li>
        <li>Define Line Aggregation Constraint Set on theÂ <a href="../../line_approval/line_approval_tolerance_rule.htm">Line Approval Tolerance Rule</a>Â page.</li>
      </ol>
      <h4>How to run the approve invoice action</h4>
      <p>Follow the below steps to approve the Invoice:</p>
      <ol>
        <li>Select the <span class="Bold">Approve Invoice</span> action. The Line Items page opens.</li>
        <li>Select the appropriate invoice. The line details are displayed by line.</li>
        <li>You can enter the new amount in the <span class="Bold">Amount to Pay</span> field for the corresponding line.</li>
        <li>Optionally, enter an <span class="Bold">Adjustment Reason.</span></li>
        <li>Optionally, enter a note.</li>
        <li>Click <span class="Bold">Finish.</span></li>
      </ol>
      <p>TheÂ <a href="../../../user_management/optional_features.htm">optional feature</a> &quot;ENABLE IMPROVED INVOICE APPROVAL LOGIC&quot; is enabled by default and when it is enabled, on completion of theÂ approve invoice by line process, matched shipment cost reference will be stored. Additionally, the Preprocess Status field on the invoice line item might be updated.Â Tolerance deviation detail will be persisted for an invoice line if only one invoice line is associated with one or multiple shipment costs.</p>
      <h3>Approve Invoice by Line based on Preprocess Status</h3>
      <p>WhenÂ theÂ <a href="../../../user_management/optional_features.htm">optional feature</a> &quot;ENABLE IMPROVED INVOICE APPROVAL LOGIC&quot; is enabled,Â OTM will approve the invoice based on preprocess status of the invoice lines.Â By default, the optional feature is enabled.</p>
      <p>Let&#39;s look at the following scenarios related to the approval of invoiceÂ based on preprocess status of the invoice lines:</p>
      <ul>
        <li>If all invoice lines have <a href="../../billing_manager/create_bill5.htm">Preprocess Status</a> field as blank, OTMÂ will group the invoice lines with shipment costs and check for tolerance.</li>
        <li>If the status of all invoice lines is MATCHED or UNMATCHED, then OTM will directly check tolerance for the invoice lines with the existing matched shipment costs based on theÂ <a href="../../line_approval/line_approval_tolerance_rule.htm">Line Approval Tolerance Rule</a>Â detail.</li>
        <li>If the status of all invoice lines is MATCHED_IN_TOLERANCE or UNMATCHED_IN_TOLERANCE status, then OTM will directly proceed to approve the invoice.Â </li>
        <li>If any of the invoice line statuses is MATCHED_OUT_OF_TOLERANCE or UNMATCHED_OUT_OF_TOLERANCE, then auto approval will fail. In case of manual approval, OTM will group the invoice lines with shipment costs and check for tolerance and will display the same in the result screen.</li>
        <li>If invoice lines have different statuses other than MATCHED_OUT_OF_TOLERANCE or UNMATCHED_OUT_OF_TOLERANCE, then OTM will group the invoice lines with shipment costs and check for tolerance in case of both auto approval or manual approval.</li>
      </ul>
      <p class="Note"><span class="Bold">Note</span>: If <a href="../../billing_manager/create_bill5.htm">Preprocess Status</a> on the invoice line is not blank and:
        <br>
        - if the freight charge on the invoice line is modified then preprocess status will be updated to MATCHED or UNMATCHED.
        <br>
        - if cost type, accessorial code, payment method code, or general ledger code is modified on the invoice line then preprocess status will be cleared.</p>
      <h2><a id="Approve_an_Invoice_by_Line___Shipment_Group_"></a>Approve an Invoice by Line â Shipment Group</h2>
      <p>For the invoice related to a shipment group, if the property glog.invoice.approveByLine is set to true (the default), the invoice approval is by line.</p>
      <p>Based on different use cases, the following table details the role of line approval tolerance rule and line item to shipment association when approving a shipment group related invoice: Â </p>
      <table title="role of line approval tolerance rule and line item to shipment association when approving a shipment group related invoice">
        <tbody>
          <tr>
            <th>Case</th>
            <th>Description</th>
          </tr>
          <tr>
            <td>
              <p><span class="Bold">Case 1</span></p>
            </td>
            <td>
              <p>If no Line Approval Tolerance Rule Profile is defined on the service provider</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>Manual Approval</p>
            </td>
            <td>
              <p>Line tolerance result (Approve by Line result page) will be created by comparing all line items with shipment costs of all shipments of shipment group and line level tolerance check will be presumed passed for all.</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>Auto Approval</p>
            </td>
            <td>
              <p>Only header level tolerance will be honored while auto approving.</p>
            </td>
          </tr>
          <tr>
            <td colspan="2"></td>
          </tr>
          <tr>
            <td>
              <p><span class="Bold">Case 2</span></p>
            </td>
            <td>
              <p>If Line Approval Tolerance Rule Profile with rule (without line and shipment association) is defined on the service provider</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>Manual Approval</p>
            </td>
            <td>
              <p>Invoice approval will be not processed. Rule must have a line item and a shipment association.</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>Auto Approval</p>
            </td>
            <td>
              <p>Invoice approval will be not processed. Rule must have a line item and a shipment association.</p>
            </td>
          </tr>
          <tr>
            <td colspan="2"></td>
          </tr>
          <tr>
            <td>
              <p><span class="Bold">Case 3</span></p>
            </td>
            <td>
              <p>If Line Approval Tolerance Rule Profile with an invalid rule (for example, a rule with wrong effective date) is defined on the service provider</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>Manual Approval</p>
              <p></p>
            </td>
            <td>
              <p>Line tolerance result will be created by comparing all line items with shipment costs of all shipments of shipment group and line level tolerance check will be presumed passed for all. Â </p>
            </td>
          </tr>
          <tr>
            <td>
              <p>Auto Approval</p>
            </td>
            <td>
              <p>Invoice auto approval will be not processed as no applicable rule will be found on the line approval tolerance rule profile defined on the service provider.</p>
            </td>
          </tr>
          <tr>
            <td colspan="2"></td>
          </tr>
          <tr>
            <td>
              <p><span class="Bold">Case 4</span></p>
            </td>
            <td>
              <p>If Line Approval Tolerance Rule Profile with a rule having a line and a shipment association is defined on the service provider</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>Manual Approval</p>
            </td>
            <td>
              <p>Line level (with line to shipment association) tolerance rule will be honored.</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>Auto Approval</p>
            </td>
            <td>
              <p>Both header level and line level (with line to shipment association) tolerance rule will be honored while auto approving.</p>
            </td>
          </tr>
        </tbody>
      </table>
      <p></p>
      <p class="Note"><span class="Bold">Note</span>: Line approval tolerance rule profile is defined on the service provider. Only shipments (including secondary charge shipments) having same the same service provider as on the invoice, will be considered for approval of invoice related to shipment group.</p>
      <p>Invoice approval with line approval tolerance rule having a line to a shipment association:</p>
      <ol>
        <li>First, each line item must be associated with a shipment of the shipment group. Hence, you should define an association of the line item and the shipment based on a reference number qualifier in the Line Approval Tolerance Rule page.</li>
        <li>Once the matched shipment is identified for each line item, the line approval tolerance rule will be applied to each line item associated with a shipment cost (i.e. shipment cost of the matched shipment) individually.</li>
      </ol>
      <h3>Example</h3>
      <h4><span class="Bold">Matching Invoice Line Items to the Shipments of the Shipment Group</span></h4>
      <p class="Note"><span class="Bold">Note</span>: Usually, reference number here represent the container number.</p>
      <ol>
        <li>Configure reference number and qualifier as per the following data.
          <table title="Configuring reference number and qualifier table">
            <tbody>
              <tr>
                <th>
                  <p>Line Items</p>
                </th>
                <th>
                  <p>Invoice Line Item Reference Number Qualifier</p>
                </th>
                <th>
                  <p>Reference Number</p>
                </th>
              </tr>
              <tr>
                <td>
                  <p>Line_item1</p>
                </td>
                <td>
                  <p>Shipment_ID</p>
                </td>
                <td>
                  <p>S1_CN0001</p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>Line_item2</p>
                </td>
                <td>
                  <p>Shipment_ID</p>
                </td>
                <td>
                  <p>S1_CN0002</p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>Line_item3</p>
                </td>
                <td>
                  <p>Shipment_ID</p>
                </td>
                <td>
                  <p>S1_CN0002</p>
                </td>
              </tr>
            </tbody>
          </table>
        </li>
        <li>
          <p>On each line item, define a reference number qualifier and add a reference number value against it.</p>
          <p class="Note"><span class="Bold">Note</span>: For line items related to secondary charge shipments, no need of this entry as secondary charge shipments do not have container numbers.</p>
        </li>
        <li>On each shipment, define a reference number qualifier and a reference number value against it.
          <table title>
            <tbody>
              <tr>
                <th>
                  <p>Shipments of Shipment Group</p>
                </th>
                <th>
                  <p>Shipment Reference Number Qualifier</p>
                </th>
                <th>
                  <p>Reference Number</p>
                </th>
              </tr>
              <tr>
                <td>
                  <p>S1</p>
                </td>
                <td>
                  <p>Container_Number</p>
                </td>
                <td>
                  <p>S1_CN0001</p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>S2</p>
                </td>
                <td>
                  <p>Container_Number</p>
                </td>
                <td>
                  <p>S2_CN0002</p>
                </td>
              </tr>
            </tbody>
          </table>
          <p class="Note"><span class="Bold">Note</span>: For secondary charge shipments, no need of this entry as they do not have container numbers.</p>
        </li>
        <li>In the Line Approval Tolerance Rule page, add details in the Invoice Line Item to Shipment Association section. Define the reference number qualifier of the invoice line to be matched with the reference number qualifier of the shipment.
          <table title="Define the reference number qualifier of the invoice line to be matched with the reference number qualifier of the shipment.">
            <tbody>
              <tr>
                <th colspan="2">
                  <p>Invoice Line Item to Shipment Association</p>
                </th>
              </tr>
              <tr>
                <th>
                  <p>Invoice Line Item Reference Number Qualifier</p>
                </th>
                <th>
                  <p>Shipment Reference Number Qualifier</p>
                </th>
              </tr>
              <tr>
                <td>
                  <p>Shipment_ID</p>
                </td>
                <td>
                  <p>Container_Number</p>
                </td>
              </tr>
            </tbody>
          </table>
        </li>
        <li>
          <p>To apply this rule while approving an invoice, add this Line Approval Tolerance Rule on a Line Approval Tolerance Rule Profile, which must be added to the service provider associated with that invoice.</p>
        </li>
      </ol>
      <h4>Matching Line Item to Shipment</h4>
      <ol>
        <li>Each line item on the invoice is matched with the shipment based on the Invoice Line Item to Shipment Association detail provided on the line approval tolerance rule.</li>
        <li>Retrieval of reference number:
          <ol>
            <li>For each line item: Â reference number is fetched against the Invoice Line Item Reference Number Qualifier retrieved from the line approval tolerance rule.</li>
            <li>For each shipment: reference number is fetched against the Shipment Reference Number Qualifier retrieved from the line approval tolerance rule.</li>
          </ol>
        </li>
        <li>Match each line item with shipments using reference number. Based on the reference number values:
          <table title="reference number values">
            <tbody>
              <tr>
                <th>Line Item</th>
                <th>Shipment</th>
                <th>Description</th>
              </tr>
              <tr>
                <td>
                  <p>Line_item1</p>
                </td>
                <td>S1</td>
                <td>Line_item1 will be associated with S1 based on reference number value âS1_CN0001â.</td>
              </tr>
              <tr>
                <td>Line_item2</td>
                <td>S2</td>
                <td>Line_item2 will be associated with S2 based on reference number value âS2_CN0002â.</td>
              </tr>
              <tr>
                <td>Line_item3</td>
                <td>S2</td>
                <td>Line_item3 will be associated with S2 based on reference number value âS2_CN0002â.</td>
              </tr>
            </tbody>
          </table>
        </li>
      </ol>
      <p></p>
      <h4><span class="Bold">Comparing line items with shipment cost:</span></h4>
      <p>After forming an association between shipment and line items.</p>
      <ul>
        <li>For each matched shipment and corresponding matched group of line items, line approval rule is applied to each matched line item associated with a shipment cost individually.</li>
        <li>Similar to approval by line for shipment related invoice, the application will form group for both invoice lines and shipment costs. The application will try to match invoice lines to shipment costs from the same group. For each group, the application will match invoice lines to the shipment costs. So each group will have one invoice line and one shipment cost.</li>
      </ul>
      <p>The following scenarios can cause costs on an invoice and a shipment group to be mismatched:</p>
      <ul>
        <li>If invoice line item is matched with shipment:
          <ul>
            <li>Invoice line items (costs) for which there are no matching shipment costs (unmatched invoice line items)</li>
            <li>Shipment costs for which there are no matching invoice line items (costs) (unmatched shipment costs)</li>
          </ul>
        </li>
        <li>Invoice line items (costs) for which there are no matching shipment found, will be processed as unmatched invoice line items.</li>
        <li>Shipment for which there are no matching invoice line items (costs) found, the corresponding shipment costs will be processed as unmatched shipment costs.</li>
      </ul>
      <p class="Note"><span class="Bold">Note</span>:Â When theÂ <a href="../../../user_management/optional_features.htm">optional feature</a> &quot;ENABLE IMPROVED INVOICE APPROVAL LOGIC&quot; is enabled andÂ the Aggregate checkbox on the <a href="../../line_approval/line_approval_tolerance_rule.htm">Line Approval Tolerance Rule</a>Â is selected, in the Line Approval Tolerance Rule page, the application will not consider the <span class="Bold">Invoice Line Item to Shipment Association</span> detail for invoice lines which are aggregated during approval.Â By default, the optional feature is enabled.</p>
    </div>
    <h2>Related Topics</h2>
    <p class="LinkList"><a href="approve_invoice_by_line_edit_new.htm">Add/Edit Invoices by Line Item</a></p>
    <p class="LinkList"><a href="approve_invoice_by_line.htm">Approve Invoice By Line</a></p>
    <p class="LinkList"><a href="unapprove_payment.htm">Unapprove Invoice</a></p>
    <script type="text/javascript" language="JavaScript1.2"> //<![CDATA[
    if (typeof(InitEffects) != 'function') InitEffects = new Function();
    InitEffects('P1');
    //]]></script>
  
</div>
  <div>
    <hr align="center">
    <p class="Footer"><img align="right" alt="Was this page helpful? Click to send feedback." height="49" src="../../../assets/images/feedback.png" style="font-family: &quot;Oracle Sans&quot;, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: medium;" usemap="#imagemap" width="322"><map data-img-height="49" data-img-width="322" name="imagemap"><area alt="How can we improve this page?" coords="222, 1, 265, 43" href="javascript:sendDownFeedback()" shape="rect" title="How can we improve this page?"><area alt="What did you like about this page?" coords="273, 4, 317, 45" href="javascript:sendUpFeedback()" shape="rect" title="What did you like about this page?"><area alt="Comments" coords="41, 3, 218, 45" href="javascript:sendFeedback()" shape="rect" title="Comments"></map></p>
  </div>

</div>
          <div class="RH-LAYOUT-BRS-container" id="rh-brs"></div>
        </div>
        <div class="RH-LAYOUT-RIGHTPANEL-container" id="rh-rightpanel"></div>
      </div>
    </div>
  </main>
  <footer role="contentinfo" class="RH-LAYOUT-FOOTER-container" id="rh-footer">
  <table border="0" cellpadding="1" cellspacing="1" class="table-unstyled">
    <tbody>
      <tr>
        <td style="background-color:#312D2A">
          <p class="Footer">Other Documentation Resources</p>
          <p class="Footer"><a href="https://docs.oracle.com/pls/topic/lookup?ctx=otm-latest&amp;id=otm-gs" target="_blank" title="Transportation and Global Trade Management Library">Help Center &amp; Guides</a>Â â¢ <a href="https://support.oracle.com/support/?documentId=KB153929" target="_blank" title="My Oracle Support">Extra Documents</a>Â â¢Â <a href="https://support.oracle.com/support/?documentId=KA171" target="_blank" title="Information Center">Information Center</a></p>
        </td>
        <td style="background-color:#312D2A">
          <p class="Footer"><a href="../../../general/cpyr.htm">CopyrightÂ Â© 2001, <span data-field="date" data-format="YYYY">2025</span>, Oracle and/or its affiliates.</a></p>
        </td>
        <td style="background-color:#312D2A">
          <p class="Footer">Contact Oracle</p>
          <p class="Footer"><a href="https://support.oracle.com" target="_blank">Contact Support</a> â¢ <a class="footer" href="javascript:sendFeedback()" target="_blank" title="Report an issue in the help or guides">Contact Documentation</a></p>
        </td>
      </tr>
    </tbody>
  </table>

</footer>
  <script type="text/javascript">//<![CDATA[

    gRootRelPath = "../../.."
    gCommonRootRelPath = "../../.."
    gTopicId = "1"
  
//]]></script>


  <script src="../../../template/scripts/topicpage.js"></script>
  <script src="../../../whxdata/layoutconfig.js"></script>
  <script src="../../../whxdata/brsdata.js"></script>

  
    
      
          

            
              
                <link rel="StyleSheet" href="../../../template/bluelagoon_-_redwood/custom.css" type="text/css">
                
                  


</body></html>