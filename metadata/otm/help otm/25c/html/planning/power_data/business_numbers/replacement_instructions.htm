<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, user-scalable=yes">
  <meta name="version" content="2022.3.0">
  <link rel="StyleSheet" href="../../../template/styles/topic.min.css" type="text/css">
  <link rel="StyleSheet" data-skin="true" type="text/css" href="../../../template/bluelagoon_-_redwood/layout.css">
  <link rel="StyleSheet" data-skin="true" href="../../../template/bluelagoon_-_redwood/userstyles.css" type="text/css">
  
  <script data-relpath="../../.." src="../../../template/scripts/csh-redirect.js" type="text/javascript"></script>
<link rel="StyleSheet" href="../../../assets/css/redwood.css" type="text/css">
  <meta name="template" content="../../../assets/masterpages/business process automation.htt">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="date" content="12 20, 2001 3:47:46 PM">
  <meta name="topic-status" content="Complete">
  <meta name="topic-priority" content="0">
  <meta name="topic-time-estimate" content="0">
  <meta name="topic-comment" content>
  <meta name="topic-id" content="Planning\power_data\business_numbers\replacement_instructions.htm">
  <meta http-equiv="Content-Language" content="en-US">
  <meta name="generator" content="Adobe RoboHelp 2022">
  <title>Replacement Instructions</title>
  <link rel="StyleSheet" href="../../../assets/css/redwood.css" type="text/css">
  <script type="text/javascript" language="JavaScript1.2" src="../../../assets/js/feedback.js"></script>
  <meta name="rh-index-keywords" content="replacement instructions,instructions:replacement">
<meta name="rh-version" content="2022.6.34"><meta name="description" content>
  
  
  
  
  <style>
  </style>
  <link rel="stylesheet" type="text/css" href="../../../assets/css/redwood.css">
<meta name="rh-version" content="2022.6.34">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.created" content="2025-07-16T17:04:13+00:00">
    <meta name="dcterms.title" content="Online Help for Transportation and Global Trade Management">
    <meta name="dcterms.category" content="cloud">
    <meta name="dcterms.isVersionOf" content="OTMOL">
    <meta name="dcterms.product" content="en/cloud/saas/transportation/25c">
    <meta name="dcterms.identifier" content="G28971-02">
    <meta name="dcterms.release" content="Release 25C">
  <script id="ssot-metadata" type="application/json">{"primary":{"category":{"short_name":"cloud","element_name":"Cloud","display_in_url":true},"suite":{"short_name":"saas","element_name":"Cloud Applications","display_in_url":true},"product_group":{"short_name":"supply-chain-management","element_name":"Supply Chain Management","display_in_url":false},"product":{"short_name":"transportation","element_name":"Transportation and Global Trade Management Cloud","display_in_url":true},"release":{"short_name":"25c","element_name":"Release 25C","display_in_url":true}}}</script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebPage","name":"Replacement Instructions","description":"","datePublished":"2025-07-16 CST","dateModified":"2025-07-16 CST"}</script>
    <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>

<body class="rh-BODY-wrapper">
  <div class="cookie-widget-holder" id="cookie-status-widget-holder"></div>
  <div class="RH-LAYOUT-HEADER-skip-content-container" id="skip-to-content"></div>
  <header class="RH-LAYOUT-HEADER-container" role="banner">
    <div class="RH-LAYOUT-HEADER-logo-box  ">
      <div class="RH-LAYOUT-HEADER-logo" id="logo-holder"></div>
      <div class="RH-LAYOUT-HEADER-title" id="topic-title-holder"></div>
    </div>
    <div class="RH-LAYOUT-HEADERMENU-container" id="header-menu"></div>
    <div class="search-placeholder-class" id="search-with-help"></div>
  </header>
  <main role="main" class="RH-LAYOUT-BODY-container">
    <div class="RH-LAYOUT-SEARCHRESULTS" id="rh-searchresults"></div>
    <div class="RH-LAYOUT-LEFTPANEL-container" id="rh-leftpanel"></div>
    <div class="rh-layout-BODY-main" id="rh-layout-main">
      <div class="RH-LAYOUT-TOOLBAR-toolbar-box" id="rh-toolbar"></div>
      <div class="rh-layout-BODY-body">
        <div class="RH-LAYOUT-CENTERPANEL-container">
          <div class="rh-layout-selectdetails" id="rh-selectdetails"></div>
          <div class="RH-LAYOUT-CENTERPANEL-topic-box" id="rh-topic">
  <div>
    <p class="Header">Business Process Automation</p>
  </div>
  <div><noscript>
    If you have any questions or comments about this topic or the online help,
    please <a href="mailto:otm-doc_us@oracle.com?subject=Documentation feedback:OTM Help">contact
      us.</a>
  </noscript>
  <h1><span data-field="title" data-format="default">Replacement Instructions</span></h1>
  <div role="main">
    <p>Each business number rule has a rule definition. Rule definitions contain the instructions that the Business Number Generator (BNG) uses to create the sequence of numbers, letters, and other characters that comprise business number types. This is entered in the <span class="Bold">Rule Definition</span> field in the <span class="Bold"><a href="business_number_rule.htm">Business Number Rule</a></span> page.</p>
    <p>Replacement instructions specify rule definitions that include data field values from specified business objects. For example, a replacement instruction could specify that the business number rule for Invoice IDs include the relevant Service Provider IDs.</p>
    <p>When creating rule definitions the <a href="business_number_context.htm">business number context</a> on the <a href="business_number_type.htm">business number type</a> provides valid values for the string used in the replacement instruction. On BN rules you define one BN type. That type has a specific context associated with it. In the example below, SERVPROV is one of the valid replacement values for the BN context for the BN type that is associated with the <a href="business_number_rule.htm">BN rule</a>.</p>
    <p>Replacement instructions can be modified by XML and substring arguments and have this basic structure and syntax:</p>
    <ul>
      <li><span class="Code">{ r*: xml=value}</span></li>
    </ul>
    <p>The <span class="Code">r*</span> specifies a replacement sequence, with no maximum length. The <span class="Code">xml</span> argument specifies a value for the sequence from an allowable data field. For example, <span class="Code">{ r*: xml=SERVPROV</span>) specifies that the replacement sequence is a Service Provider ID.</p>
    <p>Replacement instructions are usually modified by global arguments so that other sequences can be appended to them. For example, here is the default business number rule for the Auto-Pay Invoice ID:</p>
    <ul>
      <li><span class="Code">{r*:id=1:xml=SERVPROV}-{nnnnnn:contexts=1:start=1}</span></li>
    </ul>
    <p>It specifies a sequence that begins with a Service Provider ID and is followed by a six-digit number. The numeric sequence will start at 000001 for each Service Provider ID.</p>
    <h2>Using Substring Arguments</h2>
    <p>Replacement instructions can be further modified by using a <span class="Code">substring</span> argument. Substring arguments specify that only a certain string of characters be used from an <span class="Code">xml</span> value.</p>
    <p>Substring arguments have this structure and syntax:</p>
    <ul>
      <li><span class="Code">substring=&lt;from&gt;[,&lt;to&gt;]</span></li>
    </ul>
    <p><span class="Code">&lt;from&gt;</span> and <span class="Code">&lt;to&gt;</span> specify the start and end of the string of characters that should be used from the <span class="Code">xml</span> value. All other characters in the <span class="Code">xml</span> value will be removed in the replacement sequence.</p>
    <p><span class="Code">&lt;from&gt;</span> stands for the number of the first character (with zero designating the left most character) that should be used (that is, not removed). For example, to use only the company name XYZFREIGHT from the Service Provider ID GUEST.XYZFREIGHT, you would write this instruction:</p>
    <ul>
      <li><span class="Code">{ r*: xml=SERVPROV:substring=6}</span></li>
    </ul>
    <p>The optional <span class="Code">[&lt;,to&gt;]</span> stands for the number, at least one greater than <span class="Code">&lt;from&gt;</span>, for the first character in the <span class="Code">xml</span> value to remove from the string. For example to use only the domain name GUEST from the Service Provider ID above, you would write this instruction:</p>
    <ul>
      <li><span class="Code">{ r*: xml=SERVPROV:substring=0,5}</span></li>
    </ul>
    <h2>Using Smart Delimiters</h2>
    <p>To better handle a scenario where the replacement instruction does not return a value within a Business Rule, the r segment (i.e. the segment specifying XML macro replacement) has been enhanced to support an optional delim parameter. Consider the following picture string:</p>
    <ul>
      <li><span class="Code">OTM-{r*:xml=OWNER/TYPE} {r*:xml=OWNER/ID}-{r*:xml=TYPE}-{nnnnnn}</span></li>
    </ul>
    <p>This will generate a business number keyed by owner and type. E.g., assume we are generating a bill of lading for shipment S1. We will have a uname of:</p>
    <ul>
      <li><span class="Code">OTM-SHIPMENT S1-BILL OF LADING-000001</span></li>
    </ul>
    <p>which is straightforward to search on and identify. If the type and ID were not available, we could have:</p>
    <ul>
      <li><span class="Code">OTM- --000003</span></li>
    </ul>
    <p>To better handle these cases, the r (i.e. XML macro) segment has been enhanced to take a delim parameter. This is the delimiter applied if and only if the XML macro exists and has a non-zero length. In this way, we can rewrite the initial picture as:</p>
    <ul>
      <li><span class="Code">OTM-{r*:xml=OWNER/TYPE:delim= }{r*:xml=OWNER/ID:delim=-}{r*:xml=TYPE:delim=-}{nnnnnn}</span></li>
    </ul>
    <p>The resulting business numbers will be:</p>
    <ul>
      <li><span class="Code">OTM-SHIPMENT S1-BILL OF LADING-000001</span></li>
      <li><span class="Code">OTM-STOP ANALYSIS-000002</span></li>
      <li><span class="Code">OTM-000003</span></li>
    </ul>
  </div>
  <h2>Related Topics</h2>
  <p class="LinkList"><a href="business_number_rule_definitions.htm">Business Number Rule Definitions</a></p>
  <p class="LinkList"><a href="alphabetic_instructions.htm">Alphabetic Instructions</a></p>
  <p class="LinkList"><a href="cross_reference_instructions.htm">Cross-Reference Instructions</a></p>
  <p class="LinkList"><a href="date_instructions.htm">Date Instructions</a></p>
  <p class="LinkList"><a href="numeric_instructions.htm">Numeric Instructions</a></p>
  <p class="LinkList"><a href="../../../configuration/configure_business_number_generator.htm">Configuring and Using the Business Number Generator</a></p>
  <p class="LinkList"><a href="business_number_generator.htm">Business Number Generator</a></p>
  <p class="LinkList"><a href="business_number_type.htm">Business Number Type</a></p>
  <p class="LinkList"><a href="business_number_type_defaults.htm">Business Number Type Defaults</a></p>
  <p class="LinkList"><a href="business_number_rule.htm">Business Number Rule</a></p>
  <p class="LinkList"><a href="business_number_rule_definitions.htm">Business Number Rule Definitions</a></p>
  <p class="LinkList"><a href="business_number_context.htm">Business Number Context</a></p>
  <p class="LinkList"><a href="business_number_named_range.htm">Business Number Named Range</a></p>
  <p class="LinkList"><a href="business_number_checksum.htm">Business Number Checksum Algorithm</a></p>
  <p class="LinkList"><a href="oracle_sequence_number.htm">Oracle Sequence Number</a></p>
  <script type="text/javascript" language="JavaScript1.2">
    //<![CDATA[
    if (typeof(InitEffects) != 'function') InitEffects = new Function();
    InitEffects('P1');
    //]]>
  </script>

</div>
  <div>
    <hr align="center">
    <p class="Footer"><img align="right" alt="Was this page helpful? Click to send feedback." height="49" src="../../../assets/images/feedback.png" style="font-family: &quot;Oracle Sans&quot;, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: medium;" usemap="#imagemap" width="322"><map data-img-height="49" data-img-width="322" name="imagemap"><area alt="How can we improve this page?" coords="222, 1, 265, 43" href="javascript:sendDownFeedback()" shape="rect" title="How can we improve this page?"><area alt="What did you like about this page?" coords="273, 4, 317, 45" href="javascript:sendUpFeedback()" shape="rect" title="What did you like about this page?"><area alt="Comments" coords="41, 3, 218, 45" href="javascript:sendFeedback()" shape="rect" title="Comments"></map></p>
  </div>

</div>
          <div class="RH-LAYOUT-BRS-container" id="rh-brs"></div>
        </div>
        <div class="RH-LAYOUT-RIGHTPANEL-container" id="rh-rightpanel"></div>
      </div>
    </div>
  </main>
  <footer role="contentinfo" class="RH-LAYOUT-FOOTER-container" id="rh-footer">
  <table border="0" cellpadding="1" cellspacing="1" class="table-unstyled">
    <tbody>
      <tr>
        <td style="background-color:#312D2A">
          <p class="Footer">Other Documentation Resources</p>
          <p class="Footer"><a href="https://docs.oracle.com/pls/topic/lookup?ctx=otm-latest&amp;id=otm-gs" target="_blank" title="Transportation and Global Trade Management Library">Help Center &amp; Guides</a>Â â¢ <a href="https://support.oracle.com/support/?documentId=KB153929" target="_blank" title="My Oracle Support">Extra Documents</a>Â â¢Â <a href="https://support.oracle.com/support/?documentId=KA171" target="_blank" title="Information Center">Information Center</a></p>
        </td>
        <td style="background-color:#312D2A">
          <p class="Footer"><a href="../../../general/cpyr.htm">CopyrightÂ Â© 2001, <span data-field="date" data-format="YYYY">2025</span>, Oracle and/or its affiliates.</a></p>
        </td>
        <td style="background-color:#312D2A">
          <p class="Footer">Contact Oracle</p>
          <p class="Footer"><a href="https://support.oracle.com" target="_blank">Contact Support</a> â¢ <a class="footer" href="javascript:sendFeedback()" target="_blank" title="Report an issue in the help or guides">Contact Documentation</a></p>
        </td>
      </tr>
    </tbody>
  </table>

</footer>
  <script type="text/javascript">//<![CDATA[

    gRootRelPath = "../../.."
    gCommonRootRelPath = "../../.."
    gTopicId = "1"
  
//]]></script>


  <script src="../../../template/scripts/topicpage.js"></script>
  <script src="../../../whxdata/layoutconfig.js"></script>
  <script src="../../../whxdata/brsdata.js"></script>

  
    
      
          

            
              
                <link rel="StyleSheet" href="../../../template/bluelagoon_-_redwood/custom.css" type="text/css">
                
                  


</body></html>