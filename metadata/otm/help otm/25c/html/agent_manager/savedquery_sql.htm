<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, user-scalable=yes">
  <meta name="version" content="2022.3.0">
  <link rel="StyleSheet" href="../template/styles/topic.min.css" type="text/css">
  <link rel="StyleSheet" data-skin="true" type="text/css" href="../template/bluelagoon_-_redwood/layout.css">
  <link rel="StyleSheet" data-skin="true" href="../template/bluelagoon_-_redwood/userstyles.css" type="text/css">
  
  <script data-relpath=".." src="../template/scripts/csh-redirect.js" type="text/javascript"></script>
<link rel="StyleSheet" href="../assets/css/redwood.css" type="text/css">
    <meta name="template" content="../assets/masterpages/business process automation.htt">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="date" content="12 17, 2001 1:23:27 PM">
    <meta name="topic-status" content="Complete">
    <meta name="topic-priority" content="0">
    <meta name="topic-time-estimate" content="0">
    <meta name="topic-comment" content>
    <meta name="topic-id" content="agent_manager\savedquery_sql.htm">
    <meta http-equiv="Content-Language" content="en-US">
    <meta name="generator" content="Adobe RoboHelp 2022">
    <title>Saved Query Definition - SQL</title>
    <link rel="StyleSheet" href="../assets/css/redwood.css" type="text/css">
    <script type="text/javascript" language="JavaScript1.2" src="../assets/js/feedback.js"></script>
    <meta name="rh-index-keywords" content="saved queries">
  <meta name="rh-version" content="2022.6.34"><meta name="description" content>
  
  
  
  
  <style>
  </style>
  <link rel="stylesheet" type="text/css" href="../assets/css/redwood.css">
<meta name="rh-version" content="2022.6.34">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.created" content="2025-07-16T17:04:07+00:00">
    <meta name="dcterms.title" content="Online Help for Transportation and Global Trade Management">
    <meta name="dcterms.category" content="cloud">
    <meta name="dcterms.isVersionOf" content="OTMOL">
    <meta name="dcterms.product" content="en/cloud/saas/transportation/25c">
    <meta name="dcterms.identifier" content="G28971-02">
    <meta name="dcterms.release" content="Release 25C">
  <script id="ssot-metadata" type="application/json">{"primary":{"category":{"short_name":"cloud","element_name":"Cloud","display_in_url":true},"suite":{"short_name":"saas","element_name":"Cloud Applications","display_in_url":true},"product_group":{"short_name":"supply-chain-management","element_name":"Supply Chain Management","display_in_url":false},"product":{"short_name":"transportation","element_name":"Transportation and Global Trade Management Cloud","display_in_url":true},"release":{"short_name":"25c","element_name":"Release 25C","display_in_url":true}}}</script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebPage","name":"Saved Query Definition - SQL","description":"","datePublished":"2025-07-16 CST","dateModified":"2025-07-16 CST"}</script>
    <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>

<body class="rh-BODY-wrapper">
  <div class="cookie-widget-holder" id="cookie-status-widget-holder"></div>
  <div class="RH-LAYOUT-HEADER-skip-content-container" id="skip-to-content"></div>
  <header class="RH-LAYOUT-HEADER-container" role="banner">
    <div class="RH-LAYOUT-HEADER-logo-box  ">
      <div class="RH-LAYOUT-HEADER-logo" id="logo-holder"></div>
      <div class="RH-LAYOUT-HEADER-title" id="topic-title-holder"></div>
    </div>
    <div class="RH-LAYOUT-HEADERMENU-container" id="header-menu"></div>
    <div class="search-placeholder-class" id="search-with-help"></div>
  </header>
  <main role="main" class="RH-LAYOUT-BODY-container">
    <div class="RH-LAYOUT-SEARCHRESULTS" id="rh-searchresults"></div>
    <div class="RH-LAYOUT-LEFTPANEL-container" id="rh-leftpanel"></div>
    <div class="rh-layout-BODY-main" id="rh-layout-main">
      <div class="RH-LAYOUT-TOOLBAR-toolbar-box" id="rh-toolbar"></div>
      <div class="rh-layout-BODY-body">
        <div class="RH-LAYOUT-CENTERPANEL-container">
          <div class="rh-layout-selectdetails" id="rh-selectdetails"></div>
          <div class="RH-LAYOUT-CENTERPANEL-topic-box" id="rh-topic">
  <div>
    <p class="Header">Business Process Automation</p>
  </div>
  <div>
    <noscript> If you have any questions or comments about this topic or the online help, please <a href="mailto:otm-doc_us@oracle.com?subject=Documentation feedback:OTM Help">contact us.</a> </noscript>
    <h1><span data-field="title" data-format="default">Saved Query Definition - SQL</span></h1>
    <div role="main">
      <p>This section of the Saved Query Manager provides the facility to enter Structured Query Language (SQL) statements for defining complex system queries. These queries must match the system data schemas in order to work properly. This page is accessed via <span class="Bold">Business Process Automation &gt; Power Data &gt; Event Management &gt; Saved Queries</span>. This page appears if you do NOT select the <span class="Bold">Use In Finder</span> checkbox and click <span class="Bold">View/Define Query</span>.</p>
      <p>When the business monitor uses a saved query, it modifies the &quot;Find All&quot; SQL by replacing the existing select clause with &quot;select count(*)&quot;. This is how the business monitor calculates the total count of objects meeting the criteria defined in the saved query.</p>
      <p>There are times when you want to display quantities other than total count. In this case, you can indicate that the SQL statement in the &quot;Find All&quot; should be used &quot;as is&quot; by putting &quot;!!&quot; at the beginning of the text for the &quot;Find All&quot; SQL. In this usage, the SQL statements must have one the following SQL aggregate functions in the select clause to return a quantity which will be displayed in the business monitor.</p>
      <ul>
        <li><span class="Bold">AVG()</span>: Returns the average value</li>
        <li><span class="Bold">COUNT()</span>: Returns the number of rows</li>
        <li><span class="Bold">FIRST()</span>: Returns the first value</li>
        <li><span class="Bold">LAST()</span>: Returns the last value</li>
        <li><span class="Bold">MAX()</span>:- Returns the largest value</li>
        <li><span class="Bold">MIN()</span>: Returns the smallest value</li>
        <li><span class="Bold">SUM()</span>: Returns the sum</li>
      </ul>
      <p>In short, the &quot;!!&quot; notation should be used only in the saved queries used exclusively for the business monitor and the SQL statements that follow must use a SQL aggregate function in the select cause.</p>
      <h2><a name="check" id="check"></a>Check One SQL</h2>
      <p>The SQL statements entered here will be used in conjunction with specific automation agents, events, conditions, and actions. They are intended to search for certain criteria specific to the current object with which the SQL statement is associated. SQL requires one, and only one, bind variable, matching the GID of the record being checked.</p>
      <p>For example, you could create a saved query that when used through an automation agent, searches for whether the current shipment you are dealing with has been released yet. The SQL entered would be:</p>
      <p><span class="Code">select order_base_gid from ob_ship_unit</span></p>
      <p><span class="Code">where order_base_gid=? and is_processed=&#39;N&#39;</span></p>
      <h2><a name="find" id="find"></a>Find All SQL</h2>
      <p>The SQL statements entered here will be used through the Process Manager. Where Check One SQL will only search a limited number of records (in the above example, it will only check if the current shipment you are dealing with has been released), Find All SQL will be used to do a blanket query for all records in the appropriate tables.</p>
      <p>For example, by entering the below SQL statement in the Find All SQL field, you could run the same saved query through the Process Manager, but it will do a broader search to find ALL the shipments that have not been released:</p>
      <p><span class="Code">select order_base_gid from ob_ship_unit where is_processed=&#39;N&#39;</span></p>
    </div>
    <h2>Related Topics</h2>
    <p class="LinkList"><a href="new_workflow_agent.htm">Automation Agent</a></p>
    <p class="LinkList"><a href="actions.htm">Agent Actions</a></p>
    <p class="LinkList"><a href="agent_variables.htm">Agent Variables</a></p>
    <p class="LinkList"><a href="saved_query.htm">Saved Query</a></p>
    <p class="LinkList"><a href="savedquery_values.htm">Saved Query Definition - Values and Sort Order</a></p>
    <p class="LinkList"><a href="../general/search_gc3.htm">Search Business Objects</a></p>
    <script type="text/javascript" language="JavaScript1.2"> //<![CDATA[
    if (typeof(InitEffects) != 'function') InitEffects = new Function();
    InitEffects('P1');
    //]]></script>
  
</div>
  <div>
    <hr align="center">
    <p class="Footer"><img align="right" alt="Was this page helpful? Click to send feedback." height="49" src="../assets/images/feedback.png" style="font-family: &quot;Oracle Sans&quot;, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: medium;" usemap="#imagemap" width="322"><map data-img-height="49" data-img-width="322" name="imagemap"><area alt="How can we improve this page?" coords="222, 1, 265, 43" href="javascript:sendDownFeedback()" shape="rect" title="How can we improve this page?"><area alt="What did you like about this page?" coords="273, 4, 317, 45" href="javascript:sendUpFeedback()" shape="rect" title="What did you like about this page?"><area alt="Comments" coords="41, 3, 218, 45" href="javascript:sendFeedback()" shape="rect" title="Comments"></map></p>
  </div>

</div>
          <div class="RH-LAYOUT-BRS-container" id="rh-brs"></div>
        </div>
        <div class="RH-LAYOUT-RIGHTPANEL-container" id="rh-rightpanel"></div>
      </div>
    </div>
  </main>
  <footer role="contentinfo" class="RH-LAYOUT-FOOTER-container" id="rh-footer">
  <table border="0" cellpadding="1" cellspacing="1" class="table-unstyled">
    <tbody>
      <tr>
        <td style="background-color:#312D2A">
          <p class="Footer">Other Documentation Resources</p>
          <p class="Footer"><a href="https://docs.oracle.com/pls/topic/lookup?ctx=otm-latest&amp;id=otm-gs" target="_blank" title="Transportation and Global Trade Management Library">Help Center &amp; Guides</a>Â â¢ <a href="https://support.oracle.com/support/?documentId=KB153929" target="_blank" title="My Oracle Support">Extra Documents</a>Â â¢Â <a href="https://support.oracle.com/support/?documentId=KA171" target="_blank" title="Information Center">Information Center</a></p>
        </td>
        <td style="background-color:#312D2A">
          <p class="Footer"><a href="../general/cpyr.htm">CopyrightÂ Â© 2001, <span data-field="date" data-format="YYYY">2025</span>, Oracle and/or its affiliates.</a></p>
        </td>
        <td style="background-color:#312D2A">
          <p class="Footer">Contact Oracle</p>
          <p class="Footer"><a href="https://support.oracle.com" target="_blank">Contact Support</a> â¢ <a class="footer" href="javascript:sendFeedback()" target="_blank" title="Report an issue in the help or guides">Contact Documentation</a></p>
        </td>
      </tr>
    </tbody>
  </table>

</footer>
  <script type="text/javascript">//<![CDATA[

    gRootRelPath = ".."
    gCommonRootRelPath = ".."
    gTopicId = "1"
  
//]]></script>


  <script src="../template/scripts/topicpage.js"></script>
  <script src="../whxdata/layoutconfig.js"></script>
  <script src="../whxdata/brsdata.js"></script>

  
    
      
          

            
              
                <link rel="StyleSheet" href="../template/bluelagoon_-_redwood/custom.css" type="text/css">
                
                  


</body></html>