{
  "canonical_rules": {
    "otm_table_object_coverage": {
      "name": "OTM_TABLES_FROM_DOMAIN_STATISTICS_MUST_EXIST",
      "description": "Toda tabela presente em metadata/otm/domain_table_statistics.json deve ter ao menos 1 MIGRATION_ITEM no arquivo final; se ausente, o MIGRATION_ITEM e criado automaticamente em SEM_GRUPO. MIGRATION_ITEMs marcados com ignore_table=true retiram a tabela da pendencia automatica e sao agrupados em IGNORADOS."
    },
    "auto_deployment_type_from_catalog": {
      "name": "AUTO_OBJECT_DEPLOYMENT_TYPE_FROM_ELIGIBILITY_CATALOG",
      "description": "MIGRATION_ITEMs auto_generated usam metadata/otm/migration_project_eligible_tables.json para definir deployment_type (MIGRATION_PROJECT quando elegivel; fallback vazio quando nao elegivel)."
    }
  },
  "project": {
    "section": "Identificação do Projeto",
    "fields": {
      "code": { "type": "text", "label": "Código do Projeto" },
      "name": { "type": "text", "label": "Nome do Projeto" },
      "version": { "type": "text", "label": "Versão" },
      "consultant": { "type": "text", "label": "Consultor" },
      "environment.source": { "type": "text", "label": "Ambiente Origem" },
      "environment.target": { "type": "text", "label": "Ambiente Destino" }
    }
  },
  "groups": {
    "section": "MIGRATION_GROUPS",
    "repeatable": true,
    "fields": {
      "migration_group_id": { "type": "text", "label": "MIGRATION_GROUP ID" },
      "label": { "type": "text", "label": "Nome do MIGRATION_GROUP" },
      "sequence": { "type": "number", "label": "Sequência" },
      "description": { "type": "textarea", "label": "Descrição do MIGRATION_GROUP" }
    },
    "objects": {
      "repeatable": true,
      "fields": {
        "migration_item_id": { "type": "text", "label": "MIGRATION_ITEM ID" },
        "migration_item_name": { "type": "text", "label": "Nome do MIGRATION_ITEM" },
        "sequence": { "type": "number", "label": "Sequência do MIGRATION_ITEM" },
        "object_type": {
          "type": "select",
          "label": "Tipo do MIGRATION_ITEM",
          "enum": "object_type"
        },
        "otm_table": { "type": "text", "label": "Tabela OTM" },
        "deployment_type": {
          "type": "select",
          "label": "Tipo de Deploy",
          "enum": "deployment_type"
        },
        "responsible": { "type": "text", "label": "Responsável" },
        "status.documentation": {
          "type": "select",
          "label": "Status Documentação",
          "enum": "status"
        },
        "status.migration_project": {
          "type": "select",
          "label": "Status Migration Project",
          "enum": "status"
        },
        "status.export": {
          "type": "select",
          "label": "Status Exportação",
          "enum": "status"
        },
        "status.deploy": {
          "type": "select",
          "label": "Status Deploy",
          "enum": "status"
        },
        "status.validation": {
          "type": "select",
          "label": "Status Validação",
          "enum": "status"
        },
        "notes": {
          "type": "textarea",
          "label": "Observações Técnicas"
        }
      }
    }
  }
}
